
<!DOCTYPE html>
<html lang="zh-tw">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
      var algoliaIndex = algoliaIndex || {};
      algoliaIndex = {
        appId: 'AWFC86Q51O',
        apiKey: '9c1ab8f9e66ebcc69cfba3a8f2cc9e4b',
        indexName: 'MyBlog',
        hits: {}
      };
    </script>
  

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Kein&#39;s blog">
    <title>3.bash - Kein&#39;s blog</title>
    <meta name="author" content="Kein Chan">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kein Chan","sameAs":["https://github.com/chankein/","https://www.linkedin.com/profile/","mailto:kein.chan85@gmail.com"],"image":"profile.jpg"},"articleBody":"Bash 命令与 Shell 使用指南1. 命令组合与控制1.1 命令组合方式123命令1 ; 命令2    # 无论命令1成功与否，都会执行命令2命令1 &amp;&amp; 命令2   # 只有命令1成功执行(返回0)才会执行命令2命令1 || 命令2   # 只有命令1执行失败(非0)才会执行命令2\n\n1.2 引用符号\n\n\n符号\n名称\n功能说明\n\n\n\n&#39;\n单引号\n内部所有内容视为纯文本，不解释变量和特殊字符\n\n\n&quot;\n双引号\n会解释$、`和\\等特殊字符，变量会被展开\n\n\n`\n反引号\n执行内部命令并将结果替换到当前位置(等同于$(命令)语法)\n\n\n2. 命令历史2.1 history 命令1234history        # 显示命令历史记录!5            # 执行历史记录中第5条命令!ls           # 执行最近以ls开头的命令!?config      # 执行最近包含config的命令\n\n2.2 历史记录管理12history -c    # 清除当前shell的历史记录history -d 10 # 删除第10条历史记录\n\n2.3 相关环境变量123HISTSIZE=1000       # 内存中保存的历史记录数量HISTFILESIZE=2000   # 历史记录文件保存的最大数量HISTFILE=~/.bash_history  # 历史记录文件路径\n\n3. Shell 类型与快捷键3.1 常见Shell类型\nBourne Shell(sh): 经典Unix shell → 衍生出bash\nBash(Bourne-Again Shell): Linux默认shell\nC Shell(csh): 类C语法 → 衍生出tcsh\nKorn Shell(ksh): 结合sh和csh优点\nZ Shell(zsh): 功能强大的现代shell\n\n3.2 常用快捷键\n\n\n快捷键\n功能描述\n\n\n\nTab\n命令&#x2F;文件名自动补全\n\n\nCtrl+A\n移动到行首\n\n\nCtrl+E\n移动到行尾\n\n\nCtrl+D\n删除当前字符(相当于Delete)\n\n\nCtrl+H\n删除前一个字符(相当于Backspace)\n\n\nCtrl+L\n清屏(等同于clear命令)\n\n\nCtrl+C\n终止当前命令\n\n\nCtrl+Z\n暂停当前命令(可用fg恢复)\n\n\nCtrl+S\n暂停屏幕输出\n\n\nCtrl+Q\n恢复屏幕输出\n\n\n4. 变量与环境设置4.1 变量操作123export VAR=value    # 设置环境变量(对新shell有效)unset VAR           # 删除变量PATH=$PATH:/new/path # 追加PATH路径\n\n4.2 set 命令选项12set -o option      # 启用选项set +o option      # 禁用选项\n常用选项：\n\nnoclobber&#x2F;-C: 防止重定向覆盖已有文件\nhistexpand&#x2F;-H: 启用!历史命令扩展\n\n4.3 提示符定制(PS1)1PS1=&#x27;[\\u@\\h \\W]\\$ &#x27;  # 常见默认提示符格式\n可用转义符：\n\n\\s: shell名称\n\\v: bash版本\n\\u: 用户名\n\\h: 主机名\n\\w: 当前工作目录\n\n4.4 用户切换12su user       # 切换用户(不改变环境变量)su - user     # 完全切换用户(包括环境)\n\n5.帮助命令 man 详解基本用法1man command      # 查看命令的手册页(返回第一个匹配的帮助文件)\n\n常用选项\n\n\n选项\n功能说明\n等价命令\n\n\n\n-a\n显示所有匹配的手册页(按顺序显示)\n-\n\n\n-f\n查找完全匹配的命令文档\nwhatis\n\n\n-k\n查找包含关键词的文档\napropos\n\n\n-w\n显示手册页的存储路径\n-\n\n\n指定手册章节12man 5 passwd     # 查看/etc/passwd文件的格式说明(第5节)man 3 printf     # 查看C库函数printf的文档(第3节)\n\n手册章节分类\n\n\nSection\n内容类型\n\n\n\n1\n用户命令\n\n\n2\n系统调用\n\n\n3\nC库函数\n\n\n4\n设备文件\n\n\n5\n配置文件格式\n\n\n6\n游戏\n\n\n7\n杂项\n\n\n8\n系统管理命令\n\n\n9\nLinux内核相关\n\n\n手册页存储位置12/usr/share/man         # 系统手册页主目录/usr/local/share/man   # 本地安装软件的手册页\n\n维护whatis数据库12makewhatis            # 生成/更新whatis数据库(供-f/-k使用)mandb                 # 现代系统中更新手册数据库(替代makewhatis)\n\n使用示例1234man -a printf        # 查看所有章节的printf文档man -k &quot;copy&quot;        # 查找所有包含&quot;copy&quot;关键词的命令man -f ls            # 精确查找ls命令的文档man -w 5 passwd      # 显示passwd配置文件的文档路径\n\n\n\n6. 管道与重定向6.1 标准文件描述符\n\n\n文件描述符\n名称\n默认设备\n\n\n\n0\n标准输入(stdin)\n键盘\n\n\n1\n标准输出(stdout)\n屏幕\n\n\n2\n标准错误(stderr)\n屏幕\n\n\n6.2 管道(|)1命令1 | 命令2    # 将命令1的输出作为命令2的输入\n\n6.3 tee命令12命令 | tee 文件    # 同时输出到屏幕和文件命令 | tee -a 文件 # 追加模式(不覆盖原文件)\n\n6.4 重定向操作\n\n\n语法\n功能描述\n\n\n\n命令 &gt; 文件\n标准输出覆盖写入文件\n\n\n命令 &gt;&gt; 文件\n标准输出追加写入文件\n\n\n命令 &lt; 文件\n从文件读取标准输入\n\n\n命令 2&gt; 文件\n标准错误覆盖写入文件\n\n\n命令 2&gt;&gt; 文件\n标准错误追加写入文件\n\n\n命令 &gt; 文件 2&gt;&amp;1\n标准输出和错误都覆盖写入同一文件\n\n\n命令 &gt;&gt; 文件 2&gt;&amp;1\n标准输出和错误都追加写入同一文件\n\n\n命令 &lt;&lt; 结束标记\n从标准输入读取直到遇到”结束标记”(here文档)\n\n\n命令 &amp;&gt; 文件\n标准输出和错误都覆盖写入文件(bash简写)\n\n\n7. 文件操作命令7.1 ls命令12345678ls -a    # 显示所有文件(包括.开头的隐藏文件)ls -A    # 类似-a但不显示.和..ls -d    # 显示目录本身而非内容ls -F    # 显示文件类型标识(/:目录, *:可执行, @:链接)ls -i    # 显示inode编号ls -l    # 长格式显示详细信息ls -t    # 按修改时间排序ls -h    # 人类可读的文件大小(如1K, 2M)\n\n7.2 cp命令123456cp -f    # 强制覆盖不提示cp -i    # 覆盖前提示确认cp -p    # 保留原文件属性cp -r/R  # 递归复制目录cp -d    # 保留链接文件cp -a    # 归档模式(相当于-dpR)\n\n7.3 mv命令12mv -f    # 强制覆盖不提示mv -i    # 覆盖前提示确认\n\n7.4 mkdir命令12mkdir -m 755 dir   # 创建指定权限的目录mkdir -p dir1/dir2 # 创建多级目录\n\n7.5 rm命令123rm -f    # 强制删除不提示rm -i    # 删除前提示确认rm -r/R  # 递归删除目录\n\n7.6 rmdir命令1rmdir -p dir1/dir2 # 删除多级空目录\n\n7.7 touch命令123touch -t 202405071530.00 file  # 设置特定时间戳(YYMMDDhhmm.ss)touch -a file       # 仅更新访问时间touch -m file       # 仅更新修改时间\n\n7.8 file命令1file document.txt   # 检测文件类型和编码\n\n8. 元字符(通配符)\n\n\n元字符\n功能描述\n示例\n\n\n\n*\n匹配任意长度字符(包括空字符)\nls *.txt\n\n\n?\n匹配任意单个字符\nls file?.txt\n\n\n[]\n匹配括号内任意一个字符\nls file[123].txt\n\n\n[!]\n匹配不在括号内的任意一个字符\nls file[!a-z].txt\n\n\n&#123;&#125;\n展开括号内逗号分隔的多个模式\ntouch file&#123;1,2,3&#125;\n\n\n示例扩展：\n\n[a-z]: 任意小写字母\n[0-9]: 任意数字\n[a-zA-Z]: 任意字母\nfile&#123;1..3&#125;: 展开为file1, file2, file3\n\n9. 文档处理命令9.1 文件内容查看cat 命令1cat -n file.txt  # 显示文件内容并添加行号\n\nnl 命令（行号显示）123nl -b a file.txt    # 所有行添加行号nl -b t file.txt    # 非空行添加行号nl -h a -f a file.txt  # 为页眉和页脚也添加行号\n\nod 命令（二进制查看）123od -t c file.bin    # 以ASCII字符显示od -t o file.bin    # 以八进制显示od -t x file.bin    # 以十六进制显示\n\n9.2 文件头部&#x2F;尾部查看head 命令123head -n 10 file.txt    # 显示前10行head -10 file.txt      # 同上head -c 100 file.txt   # 显示前100字节\n\ntail 命令1234tail -n 10 file.txt    # 显示最后10行tail -10 file.txt      # 同上tail -c 100 file.txt   # 显示最后100字节tail -f log.txt        # 实时监控日志文件\n\n9.3 文本提取与转换cut 命令12cut -c 1-5 file.txt      # 提取每行第1-5个字符cut -d: -f1 /etc/passwd  # 以冒号分隔，提取第一个字段\n\njoin 命令（合并文件）1join -j 1 file1.txt file2.txt  # 按第一个字段合并两个文件\n\npaste 命令1paste -d&quot;;&quot; file1.txt file2.txt  # 用分号分隔合并文件\n\ntr 命令（字符转换）1234tr &#x27;a-z&#x27; &#x27;A-Z&#x27; &lt; file.txt    # 小写转大写tr -d &#x27;\\r&#x27; &lt; file.txt        # 删除回车符tr -s &#x27; &#x27; &lt; file.txt         # 压缩连续空格tr -d &#x27;[:digit:]&#x27; &lt; file.txt # 删除所有数字\n\n9.4 文本排序与统计sort 命令1234sort file.txt          # 按字母顺序排序sort -n file.txt       # 按数值排序sort -r file.txt       # 反向排序sort -t: -k3n /etc/passwd  # 按冒号分隔的第3列数值排序\n\nuniq 命令（去重）123sort file.txt | uniq    # 去重（需先排序）uniq -d file.txt        # 只显示重复行uniq -u file.txt        # 只显示唯一行\n\nwc 命令（统计）123wc -l file.txt    # 统计行数wc -w file.txt    # 统计单词数wc -c file.txt    # 统计字节数\n\n9.5 文本分割与格式化split 命令1split -l 1000 bigfile.txt part_  # 每1000行分割文件\n\npr 命令（分页）1pr -l 40 file.txt    # 按每页40行分页显示\n\nfmt 命令（格式化）1fmt -w 80 file.txt   # 设置每行80个字符\n\nexpand&#x2F;unexpand 命令12expand -t 4 file.txt    # 将tab转为4个空格unexpand -t 4 file.txt  # 将4个空格转为tab\n\n8.6 高级文本处理xargs 命令12find . -name &quot;*.log&quot; | xargs rm    # 删除所有log文件find . -type f | xargs grep &quot;text&quot; # 在所有文件中搜索文本\n\n10. vi&#x2F;vim 编辑器10.1 基本操作启动与退出12345vi file.txt        # 编辑文件vi -R file.txt     # 只读模式:q                 # 退出:q!                # 强制退出:wq 或 ZZ          # 保存退出\n\n模式切换\n\n\n命令\n说明\n\n\n\ni\n在光标前插入\n\n\na\n在光标后插入\n\n\nI\n在行首插入\n\n\nA\n在行尾插入\n\n\no\n在下一行插入\n\n\nO\n在上一行插入\n\n\nESC\n返回命令模式\n\n\n10.2 光标移动\n\n\n命令\n说明\n\n\n\nh&#x2F;j&#x2F;k&#x2F;l\n左&#x2F;下&#x2F;上&#x2F;右\n\n\n0\n行首\n\n\n$\n行尾\n\n\ngg\n文件开头\n\n\nG\n文件末尾\n\n\n50G\n跳转到第50行\n\n\nCtrl+b\n上一页\n\n\nCtrl+f\n下一页\n\n\n10.3 编辑命令\n\n\n命令\n说明\n\n\n\nx\n删除当前字符\n\n\nX\n删除前一个字符\n\n\ndd\n删除当前行\n\n\ndw\n删除下一个单词\n\n\nyy\n复制当前行\n\n\np\n粘贴到光标后\n\n\nP\n粘贴到光标前\n\n\nu\n撤销\n\n\nCtrl+r\n重做\n\n\n10.4 搜索与替换\n\n\n命令\n说明\n\n\n\n&#x2F;pattern\n向前搜索\n\n\n?pattern\n向后搜索\n\n\nn\n下一个匹配项\n\n\nN\n上一个匹配项\n\n\n:%s&#x2F;old&#x2F;new&#x2F;g\n全局替换\n\n\n:1,10s&#x2F;old&#x2F;new&#x2F;g\n替换1-10行的内容\n\n\n10.5 设置选项1234:set nu        # 显示行号:set nonu      # 隐藏行号:set ts=4      # 设置tab为4个空格:set list      # 显示不可见字符\n\n11. 正则表达式与文本搜索11.1 基本元字符\n\n\n元字符\n说明\n\n\n\n.\n匹配任意单个字符\n\n\n*\n前一个字符0次或多次\n\n\n[]\n匹配括号内任意一个字符\n\n\n[^]\n不匹配括号内的字符\n\n\n^\n行首\n\n\n$\n行尾\n\n\n\\\n转义特殊字符\n\n\n11.2 grep 命令123456grep &quot;pattern&quot; file.txt      # 基本搜索grep -i &quot;pattern&quot; file.txt   # 忽略大小写grep -v &quot;pattern&quot; file.txt   # 反向匹配grep -n &quot;pattern&quot; file.txt   # 显示行号grep -E &quot;regex&quot; file.txt     # 使用扩展正则grep -r &quot;pattern&quot; /dir       # 递归搜索目录\n\n特殊变体123egrep = grep -E       # 扩展正则表达式fgrep = grep -F       # 不解析正则，快速搜索pgrep -u root         # 搜索root用户的进程\n\n11.3 sed 流编辑器基本用法1234sed &#x27;s/old/new/&#x27; file.txt       # 替换第一个匹配sed &#x27;s/old/new/g&#x27; file.txt      # 替换所有匹配sed &#x27;1,5d&#x27; file.txt             # 删除1-5行sed &#x27;/pattern/d&#x27; file.txt       # 删除匹配行\n\n高级用法1234sed -n &#x27;10,20p&#x27; file.txt       # 只打印10-20行sed &#x27;y/abc/ABC/&#x27; file.txt      # 字符转换sed -i.bak &#x27;s/old/new/&#x27; file   # 直接修改文件并备份sed -e &#x27;cmd1&#x27; -e &#x27;cmd2&#x27; file   # 执行多个命令\n\n脚本示例12345# 将1-5行行首添加&gt;字符sed &#x27;1,5s/^/&gt;/&#x27; file.txt# 将每行的第一个数字替换为#sed &#x27;s/[0-9]/#/&#x27; file.txt\n\n11.4 正则表达式示例\n匹配IP地址：\n\n1grep -E &#x27;([0-9]&#123;1,3&#125;\\.)&#123;3&#125;[0-9]&#123;1,3&#125;&#x27; file.txt\n\n\n匹配邮箱地址：\n\n1grep -E &#x27;[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]&#123;2,&#125;&#x27; file.txt\n\n\n提取HTML标签内容：\n\n1sed -n &#x27;s/&lt;title&gt;\\(.*\\)&lt;\\/title&gt;/\\1/p&#x27; file.html","dateCreated":"2020-05-07T16:30:52+08:00","dateModified":"2025-05-09T18:36:26+08:00","datePublished":"2020-05-07T16:30:52+08:00","description":"","headline":"3.bash","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://chankein.github.io/2020/05/07/linux/3-bash/"},"publisher":{"@type":"Organization","name":"Kein Chan","sameAs":["https://github.com/chankein/","https://www.linkedin.com/profile/","mailto:kein.chan85@gmail.com"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"https://chankein.github.io/2020/05/07/linux/3-bash/","keywords":"linux, LPIC"}</script>
    <meta name="description" content="Bash 命令与 Shell 使用指南1. 命令组合与控制1.1 命令组合方式123命令1 ; 命令2    # 无论命令1成功与否，都会执行命令2命令1 &amp;&amp; 命令2   # 只有命令1成功执行(返回0)才会执行命令2命令1 || 命令2   # 只有命令1执行失败(非0)才会执行命令2  1.2 引用符号   符号 名称 功能说明    &#39; 单引号 内部所有内容视为纯文">
<meta property="og:type" content="blog">
<meta property="og:title" content="3.bash">
<meta property="og:url" content="https://chankein.github.io/2020/05/07/linux/3-bash/index.html">
<meta property="og:site_name" content="Kein&#39;s blog">
<meta property="og:description" content="Bash 命令与 Shell 使用指南1. 命令组合与控制1.1 命令组合方式123命令1 ; 命令2    # 无论命令1成功与否，都会执行命令2命令1 &amp;&amp; 命令2   # 只有命令1成功执行(返回0)才会执行命令2命令1 || 命令2   # 只有命令1执行失败(非0)才会执行命令2  1.2 引用符号   符号 名称 功能说明    &#39; 单引号 内部所有内容视为纯文">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2020-05-07T08:30:52.000Z">
<meta property="article:modified_time" content="2025-05-09T10:36:26.133Z">
<meta property="article:author" content="Kein Chan">
<meta property="article:tag" content="linux">
<meta property="article:tag" content="LPIC">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://chankein.github.io../../../../../assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="../../../../../assets/css/style-l9zwheso7r7pnk98nvirovsz9dl7fhkrc9mlb5vmuxw7tk5movrk0eevsrpr.min.css">

    <!--STYLES END-->
    

    

    
        
    
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --></head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="../../../../../index.html"
            aria-label=""
        >
            Kein&#39;s blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="打開鏈接: ../../../../../#about"
            >
        
        
            <img class="header-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="../../../../../#about"
                    aria-label="閱讀有關作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Kein Chan</h4>
                
                    <h5 class="sidebar-profile-bio"><p>這是獨立全棧工程師Kein Chan的技術博客</br>Kein目前居住在東京和澳門.</br>熱愛旅遊.已探訪日本40多個都道府縣.曾自駕環繞日本半個本州.</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../index.html"
                            
                            rel="noopener"
                            title="首頁"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-categories"
                            
                            rel="noopener"
                            title="分類"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-tags"
                            
                            rel="noopener"
                            title="標籤"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-archives"
                            
                            rel="noopener"
                            title="所有文章"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜尋"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="關於"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/chankein/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../mailto:kein.chan85@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Email"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Email</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../atom.xml"
                            
                            rel="noopener"
                            title="Atom"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Atom</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            3.bash
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-05-07T16:30:52+08:00">
	
		    2020 年 5 月 7 日
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="../../../../../categories/%E5%90%8E%E7%AB%AF/">后端</a>, <a class="category-link" href="../../../../../categories/%E5%90%8E%E7%AB%AF/linux/">linux</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id="Bash-命令与-Shell-使用指南"><a href="#Bash-命令与-Shell-使用指南" class="headerlink" title="Bash 命令与 Shell 使用指南"></a>Bash 命令与 Shell 使用指南</h1><h2 id="1-命令组合与控制"><a href="#1-命令组合与控制" class="headerlink" title="1. 命令组合与控制"></a>1. 命令组合与控制</h2><h3 id="1-1-命令组合方式"><a href="#1-1-命令组合方式" class="headerlink" title="1.1 命令组合方式"></a>1.1 命令组合方式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令1 ; 命令2    <span class="comment"># 无论命令1成功与否，都会执行命令2</span></span><br><span class="line">命令1 &amp;&amp; 命令2   <span class="comment"># 只有命令1成功执行(返回0)才会执行命令2</span></span><br><span class="line">命令1 || 命令2   <span class="comment"># 只有命令1执行失败(非0)才会执行命令2</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-引用符号"><a href="#1-2-引用符号" class="headerlink" title="1.2 引用符号"></a>1.2 引用符号</h3><table>
<thead>
<tr>
<th>符号</th>
<th>名称</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#39;</code></td>
<td>单引号</td>
<td>内部所有内容视为纯文本，不解释变量和特殊字符</td>
</tr>
<tr>
<td><code>&quot;</code></td>
<td>双引号</td>
<td>会解释$、`和\等特殊字符，变量会被展开</td>
</tr>
<tr>
<td><code>`</code></td>
<td>反引号</td>
<td>执行内部命令并将结果替换到当前位置(等同于<code>$(命令)</code>语法)</td>
</tr>
</tbody></table>
<h2 id="2-命令历史"><a href="#2-命令历史" class="headerlink" title="2. 命令历史"></a>2. 命令历史</h2><h3 id="2-1-history-命令"><a href="#2-1-history-命令" class="headerlink" title="2.1 history 命令"></a>2.1 history 命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span>        <span class="comment"># 显示命令历史记录</span></span><br><span class="line">!5            <span class="comment"># 执行历史记录中第5条命令</span></span><br><span class="line">!<span class="built_in">ls</span>           <span class="comment"># 执行最近以ls开头的命令</span></span><br><span class="line">!?config      <span class="comment"># 执行最近包含config的命令</span></span><br></pre></td></tr></table></figure>

<h3 id="2-2-历史记录管理"><a href="#2-2-历史记录管理" class="headerlink" title="2.2 历史记录管理"></a>2.2 历史记录管理</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span> -c    <span class="comment"># 清除当前shell的历史记录</span></span><br><span class="line"><span class="built_in">history</span> -d 10 <span class="comment"># 删除第10条历史记录</span></span><br></pre></td></tr></table></figure>

<h3 id="2-3-相关环境变量"><a href="#2-3-相关环境变量" class="headerlink" title="2.3 相关环境变量"></a>2.3 相关环境变量</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">HISTSIZE=1000       <span class="comment"># 内存中保存的历史记录数量</span></span><br><span class="line">HISTFILESIZE=2000   <span class="comment"># 历史记录文件保存的最大数量</span></span><br><span class="line">HISTFILE=~/.bash_history  <span class="comment"># 历史记录文件路径</span></span><br></pre></td></tr></table></figure>

<h2 id="3-Shell-类型与快捷键"><a href="#3-Shell-类型与快捷键" class="headerlink" title="3. Shell 类型与快捷键"></a>3. Shell 类型与快捷键</h2><h3 id="3-1-常见Shell类型"><a href="#3-1-常见Shell类型" class="headerlink" title="3.1 常见Shell类型"></a>3.1 常见Shell类型</h3><ul>
<li><strong>Bourne Shell(sh)</strong>: 经典Unix shell → 衍生出bash</li>
<li><strong>Bash(Bourne-Again Shell)</strong>: Linux默认shell</li>
<li><strong>C Shell(csh)</strong>: 类C语法 → 衍生出tcsh</li>
<li><strong>Korn Shell(ksh)</strong>: 结合sh和csh优点</li>
<li><strong>Z Shell(zsh)</strong>: 功能强大的现代shell</li>
</ul>
<h3 id="3-2-常用快捷键"><a href="#3-2-常用快捷键" class="headerlink" title="3.2 常用快捷键"></a>3.2 常用快捷键</h3><table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>Tab</td>
<td>命令&#x2F;文件名自动补全</td>
</tr>
<tr>
<td>Ctrl+A</td>
<td>移动到行首</td>
</tr>
<tr>
<td>Ctrl+E</td>
<td>移动到行尾</td>
</tr>
<tr>
<td>Ctrl+D</td>
<td>删除当前字符(相当于Delete)</td>
</tr>
<tr>
<td>Ctrl+H</td>
<td>删除前一个字符(相当于Backspace)</td>
</tr>
<tr>
<td>Ctrl+L</td>
<td>清屏(等同于clear命令)</td>
</tr>
<tr>
<td>Ctrl+C</td>
<td>终止当前命令</td>
</tr>
<tr>
<td>Ctrl+Z</td>
<td>暂停当前命令(可用fg恢复)</td>
</tr>
<tr>
<td>Ctrl+S</td>
<td>暂停屏幕输出</td>
</tr>
<tr>
<td>Ctrl+Q</td>
<td>恢复屏幕输出</td>
</tr>
</tbody></table>
<h2 id="4-变量与环境设置"><a href="#4-变量与环境设置" class="headerlink" title="4. 变量与环境设置"></a>4. 变量与环境设置</h2><h3 id="4-1-变量操作"><a href="#4-1-变量操作" class="headerlink" title="4.1 变量操作"></a>4.1 变量操作</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> VAR=value    <span class="comment"># 设置环境变量(对新shell有效)</span></span><br><span class="line"><span class="built_in">unset</span> VAR           <span class="comment"># 删除变量</span></span><br><span class="line">PATH=<span class="variable">$PATH</span>:/new/path <span class="comment"># 追加PATH路径</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-set-命令选项"><a href="#4-2-set-命令选项" class="headerlink" title="4.2 set 命令选项"></a>4.2 set 命令选项</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -o option      <span class="comment"># 启用选项</span></span><br><span class="line"><span class="built_in">set</span> +o option      <span class="comment"># 禁用选项</span></span><br></pre></td></tr></table></figure>
<p>常用选项：</p>
<ul>
<li><code>noclobber</code>&#x2F;<code>-C</code>: 防止重定向覆盖已有文件</li>
<li><code>histexpand</code>&#x2F;<code>-H</code>: 启用<code>!</code>历史命令扩展</li>
</ul>
<h3 id="4-3-提示符定制-PS1"><a href="#4-3-提示符定制-PS1" class="headerlink" title="4.3 提示符定制(PS1)"></a>4.3 提示符定制(PS1)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PS1=<span class="string">&#x27;[\u@\h \W]\$ &#x27;</span>  <span class="comment"># 常见默认提示符格式</span></span><br></pre></td></tr></table></figure>
<p>可用转义符：</p>
<ul>
<li><code>\s</code>: shell名称</li>
<li><code>\v</code>: bash版本</li>
<li><code>\u</code>: 用户名</li>
<li><code>\h</code>: 主机名</li>
<li><code>\w</code>: 当前工作目录</li>
</ul>
<h3 id="4-4-用户切换"><a href="#4-4-用户切换" class="headerlink" title="4.4 用户切换"></a>4.4 用户切换</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su user       <span class="comment"># 切换用户(不改变环境变量)</span></span><br><span class="line">su - user     <span class="comment"># 完全切换用户(包括环境)</span></span><br></pre></td></tr></table></figure>

<h2 id="5-帮助命令-man-详解"><a href="#5-帮助命令-man-详解" class="headerlink" title="5.帮助命令 man 详解"></a>5.帮助命令 <code>man</code> 详解</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">command</span>      <span class="comment"># 查看命令的手册页(返回第一个匹配的帮助文件)</span></span><br></pre></td></tr></table></figure>

<h3 id="常用选项"><a href="#常用选项" class="headerlink" title="常用选项"></a>常用选项</h3><table>
<thead>
<tr>
<th>选项</th>
<th>功能说明</th>
<th>等价命令</th>
</tr>
</thead>
<tbody><tr>
<td><code>-a</code></td>
<td>显示所有匹配的手册页(按顺序显示)</td>
<td>-</td>
</tr>
<tr>
<td><code>-f</code></td>
<td>查找完全匹配的命令文档</td>
<td><code>whatis</code></td>
</tr>
<tr>
<td><code>-k</code></td>
<td>查找包含关键词的文档</td>
<td><code>apropos</code></td>
</tr>
<tr>
<td><code>-w</code></td>
<td>显示手册页的存储路径</td>
<td>-</td>
</tr>
</tbody></table>
<h3 id="指定手册章节"><a href="#指定手册章节" class="headerlink" title="指定手册章节"></a>指定手册章节</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man 5 passwd     <span class="comment"># 查看/etc/passwd文件的格式说明(第5节)</span></span><br><span class="line">man 3 <span class="built_in">printf</span>     <span class="comment"># 查看C库函数printf的文档(第3节)</span></span><br></pre></td></tr></table></figure>

<h3 id="手册章节分类"><a href="#手册章节分类" class="headerlink" title="手册章节分类"></a>手册章节分类</h3><table>
<thead>
<tr>
<th>Section</th>
<th>内容类型</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>用户命令</td>
</tr>
<tr>
<td>2</td>
<td>系统调用</td>
</tr>
<tr>
<td>3</td>
<td>C库函数</td>
</tr>
<tr>
<td>4</td>
<td>设备文件</td>
</tr>
<tr>
<td>5</td>
<td>配置文件格式</td>
</tr>
<tr>
<td>6</td>
<td>游戏</td>
</tr>
<tr>
<td>7</td>
<td>杂项</td>
</tr>
<tr>
<td>8</td>
<td>系统管理命令</td>
</tr>
<tr>
<td>9</td>
<td>Linux内核相关</td>
</tr>
</tbody></table>
<h3 id="手册页存储位置"><a href="#手册页存储位置" class="headerlink" title="手册页存储位置"></a>手册页存储位置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/share/man         <span class="comment"># 系统手册页主目录</span></span><br><span class="line">/usr/local/share/man   <span class="comment"># 本地安装软件的手册页</span></span><br></pre></td></tr></table></figure>

<h3 id="维护whatis数据库"><a href="#维护whatis数据库" class="headerlink" title="维护whatis数据库"></a>维护whatis数据库</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">makewhatis            <span class="comment"># 生成/更新whatis数据库(供-f/-k使用)</span></span><br><span class="line">mandb                 <span class="comment"># 现代系统中更新手册数据库(替代makewhatis)</span></span><br></pre></td></tr></table></figure>

<h3 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">man -a <span class="built_in">printf</span>        <span class="comment"># 查看所有章节的printf文档</span></span><br><span class="line">man -k <span class="string">&quot;copy&quot;</span>        <span class="comment"># 查找所有包含&quot;copy&quot;关键词的命令</span></span><br><span class="line">man -f <span class="built_in">ls</span>            <span class="comment"># 精确查找ls命令的文档</span></span><br><span class="line">man -w 5 passwd      <span class="comment"># 显示passwd配置文件的文档路径</span></span><br></pre></td></tr></table></figure>



<h2 id="6-管道与重定向"><a href="#6-管道与重定向" class="headerlink" title="6. 管道与重定向"></a>6. 管道与重定向</h2><h3 id="6-1-标准文件描述符"><a href="#6-1-标准文件描述符" class="headerlink" title="6.1 标准文件描述符"></a>6.1 标准文件描述符</h3><table>
<thead>
<tr>
<th>文件描述符</th>
<th>名称</th>
<th>默认设备</th>
</tr>
</thead>
<tbody><tr>
<td>0</td>
<td>标准输入(stdin)</td>
<td>键盘</td>
</tr>
<tr>
<td>1</td>
<td>标准输出(stdout)</td>
<td>屏幕</td>
</tr>
<tr>
<td>2</td>
<td>标准错误(stderr)</td>
<td>屏幕</td>
</tr>
</tbody></table>
<h3 id="6-2-管道"><a href="#6-2-管道" class="headerlink" title="6.2 管道(|)"></a>6.2 管道(|)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令1 | 命令2    <span class="comment"># 将命令1的输出作为命令2的输入</span></span><br></pre></td></tr></table></figure>

<h3 id="6-3-tee命令"><a href="#6-3-tee命令" class="headerlink" title="6.3 tee命令"></a>6.3 tee命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">命令 | <span class="built_in">tee</span> 文件    <span class="comment"># 同时输出到屏幕和文件</span></span><br><span class="line">命令 | <span class="built_in">tee</span> -a 文件 <span class="comment"># 追加模式(不覆盖原文件)</span></span><br></pre></td></tr></table></figure>

<h3 id="6-4-重定向操作"><a href="#6-4-重定向操作" class="headerlink" title="6.4 重定向操作"></a>6.4 重定向操作</h3><table>
<thead>
<tr>
<th>语法</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>命令 &gt; 文件</code></td>
<td>标准输出覆盖写入文件</td>
</tr>
<tr>
<td><code>命令 &gt;&gt; 文件</code></td>
<td>标准输出追加写入文件</td>
</tr>
<tr>
<td><code>命令 &lt; 文件</code></td>
<td>从文件读取标准输入</td>
</tr>
<tr>
<td><code>命令 2&gt; 文件</code></td>
<td>标准错误覆盖写入文件</td>
</tr>
<tr>
<td><code>命令 2&gt;&gt; 文件</code></td>
<td>标准错误追加写入文件</td>
</tr>
<tr>
<td><code>命令 &gt; 文件 2&gt;&amp;1</code></td>
<td>标准输出和错误都覆盖写入同一文件</td>
</tr>
<tr>
<td><code>命令 &gt;&gt; 文件 2&gt;&amp;1</code></td>
<td>标准输出和错误都追加写入同一文件</td>
</tr>
<tr>
<td><code>命令 &lt;&lt; 结束标记</code></td>
<td>从标准输入读取直到遇到”结束标记”(here文档)</td>
</tr>
<tr>
<td><code>命令 &amp;&gt; 文件</code></td>
<td>标准输出和错误都覆盖写入文件(bash简写)</td>
</tr>
</tbody></table>
<h2 id="7-文件操作命令"><a href="#7-文件操作命令" class="headerlink" title="7. 文件操作命令"></a>7. 文件操作命令</h2><h3 id="7-1-ls命令"><a href="#7-1-ls命令" class="headerlink" title="7.1 ls命令"></a>7.1 ls命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -a    <span class="comment"># 显示所有文件(包括.开头的隐藏文件)</span></span><br><span class="line"><span class="built_in">ls</span> -A    <span class="comment"># 类似-a但不显示.和..</span></span><br><span class="line"><span class="built_in">ls</span> -d    <span class="comment"># 显示目录本身而非内容</span></span><br><span class="line"><span class="built_in">ls</span> -F    <span class="comment"># 显示文件类型标识(/:目录, *:可执行, @:链接)</span></span><br><span class="line"><span class="built_in">ls</span> -i    <span class="comment"># 显示inode编号</span></span><br><span class="line"><span class="built_in">ls</span> -l    <span class="comment"># 长格式显示详细信息</span></span><br><span class="line"><span class="built_in">ls</span> -t    <span class="comment"># 按修改时间排序</span></span><br><span class="line"><span class="built_in">ls</span> -h    <span class="comment"># 人类可读的文件大小(如1K, 2M)</span></span><br></pre></td></tr></table></figure>

<h3 id="7-2-cp命令"><a href="#7-2-cp命令" class="headerlink" title="7.2 cp命令"></a>7.2 cp命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -f    <span class="comment"># 强制覆盖不提示</span></span><br><span class="line"><span class="built_in">cp</span> -i    <span class="comment"># 覆盖前提示确认</span></span><br><span class="line"><span class="built_in">cp</span> -p    <span class="comment"># 保留原文件属性</span></span><br><span class="line"><span class="built_in">cp</span> -r/R  <span class="comment"># 递归复制目录</span></span><br><span class="line"><span class="built_in">cp</span> -d    <span class="comment"># 保留链接文件</span></span><br><span class="line"><span class="built_in">cp</span> -a    <span class="comment"># 归档模式(相当于-dpR)</span></span><br></pre></td></tr></table></figure>

<h3 id="7-3-mv命令"><a href="#7-3-mv命令" class="headerlink" title="7.3 mv命令"></a>7.3 mv命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> -f    <span class="comment"># 强制覆盖不提示</span></span><br><span class="line"><span class="built_in">mv</span> -i    <span class="comment"># 覆盖前提示确认</span></span><br></pre></td></tr></table></figure>

<h3 id="7-4-mkdir命令"><a href="#7-4-mkdir命令" class="headerlink" title="7.4 mkdir命令"></a>7.4 mkdir命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -m 755 <span class="built_in">dir</span>   <span class="comment"># 创建指定权限的目录</span></span><br><span class="line"><span class="built_in">mkdir</span> -p dir1/dir2 <span class="comment"># 创建多级目录</span></span><br></pre></td></tr></table></figure>

<h3 id="7-5-rm命令"><a href="#7-5-rm命令" class="headerlink" title="7.5 rm命令"></a>7.5 rm命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -f    <span class="comment"># 强制删除不提示</span></span><br><span class="line"><span class="built_in">rm</span> -i    <span class="comment"># 删除前提示确认</span></span><br><span class="line"><span class="built_in">rm</span> -r/R  <span class="comment"># 递归删除目录</span></span><br></pre></td></tr></table></figure>

<h3 id="7-6-rmdir命令"><a href="#7-6-rmdir命令" class="headerlink" title="7.6 rmdir命令"></a>7.6 rmdir命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rmdir</span> -p dir1/dir2 <span class="comment"># 删除多级空目录</span></span><br></pre></td></tr></table></figure>

<h3 id="7-7-touch命令"><a href="#7-7-touch命令" class="headerlink" title="7.7 touch命令"></a>7.7 touch命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> -t 202405071530.00 file  <span class="comment"># 设置特定时间戳(YYMMDDhhmm.ss)</span></span><br><span class="line"><span class="built_in">touch</span> -a file       <span class="comment"># 仅更新访问时间</span></span><br><span class="line"><span class="built_in">touch</span> -m file       <span class="comment"># 仅更新修改时间</span></span><br></pre></td></tr></table></figure>

<h3 id="7-8-file命令"><a href="#7-8-file命令" class="headerlink" title="7.8 file命令"></a>7.8 file命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file document.txt   <span class="comment"># 检测文件类型和编码</span></span><br></pre></td></tr></table></figure>

<h2 id="8-元字符-通配符"><a href="#8-元字符-通配符" class="headerlink" title="8. 元字符(通配符)"></a>8. 元字符(通配符)</h2><table>
<thead>
<tr>
<th>元字符</th>
<th>功能描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td><code>*</code></td>
<td>匹配任意长度字符(包括空字符)</td>
<td><code>ls *.txt</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>匹配任意单个字符</td>
<td><code>ls file?.txt</code></td>
</tr>
<tr>
<td><code>[]</code></td>
<td>匹配括号内任意一个字符</td>
<td><code>ls file[123].txt</code></td>
</tr>
<tr>
<td><code>[!]</code></td>
<td>匹配不在括号内的任意一个字符</td>
<td><code>ls file[!a-z].txt</code></td>
</tr>
<tr>
<td><code>&#123;&#125;</code></td>
<td>展开括号内逗号分隔的多个模式</td>
<td><code>touch file&#123;1,2,3&#125;</code></td>
</tr>
</tbody></table>
<p>示例扩展：</p>
<ul>
<li><code>[a-z]</code>: 任意小写字母</li>
<li><code>[0-9]</code>: 任意数字</li>
<li><code>[a-zA-Z]</code>: 任意字母</li>
<li><code>file&#123;1..3&#125;</code>: 展开为file1, file2, file3</li>
</ul>
<h2 id="9-文档处理命令"><a href="#9-文档处理命令" class="headerlink" title="9. 文档处理命令"></a>9. 文档处理命令</h2><h3 id="9-1-文件内容查看"><a href="#9-1-文件内容查看" class="headerlink" title="9.1 文件内容查看"></a>9.1 文件内容查看</h3><h4 id="cat-命令"><a href="#cat-命令" class="headerlink" title="cat 命令"></a>cat 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> -n file.txt  <span class="comment"># 显示文件内容并添加行号</span></span><br></pre></td></tr></table></figure>

<h4 id="nl-命令（行号显示）"><a href="#nl-命令（行号显示）" class="headerlink" title="nl 命令（行号显示）"></a>nl 命令（行号显示）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nl</span> -b a file.txt    <span class="comment"># 所有行添加行号</span></span><br><span class="line"><span class="built_in">nl</span> -b t file.txt    <span class="comment"># 非空行添加行号</span></span><br><span class="line"><span class="built_in">nl</span> -h a -f a file.txt  <span class="comment"># 为页眉和页脚也添加行号</span></span><br></pre></td></tr></table></figure>

<h4 id="od-命令（二进制查看）"><a href="#od-命令（二进制查看）" class="headerlink" title="od 命令（二进制查看）"></a>od 命令（二进制查看）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">od</span> -t c file.bin    <span class="comment"># 以ASCII字符显示</span></span><br><span class="line"><span class="built_in">od</span> -t o file.bin    <span class="comment"># 以八进制显示</span></span><br><span class="line"><span class="built_in">od</span> -t x file.bin    <span class="comment"># 以十六进制显示</span></span><br></pre></td></tr></table></figure>

<h3 id="9-2-文件头部-尾部查看"><a href="#9-2-文件头部-尾部查看" class="headerlink" title="9.2 文件头部&#x2F;尾部查看"></a>9.2 文件头部&#x2F;尾部查看</h3><h4 id="head-命令"><a href="#head-命令" class="headerlink" title="head 命令"></a>head 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span> -n 10 file.txt    <span class="comment"># 显示前10行</span></span><br><span class="line"><span class="built_in">head</span> -10 file.txt      <span class="comment"># 同上</span></span><br><span class="line"><span class="built_in">head</span> -c 100 file.txt   <span class="comment"># 显示前100字节</span></span><br></pre></td></tr></table></figure>

<h4 id="tail-命令"><a href="#tail-命令" class="headerlink" title="tail 命令"></a>tail 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tail</span> -n 10 file.txt    <span class="comment"># 显示最后10行</span></span><br><span class="line"><span class="built_in">tail</span> -10 file.txt      <span class="comment"># 同上</span></span><br><span class="line"><span class="built_in">tail</span> -c 100 file.txt   <span class="comment"># 显示最后100字节</span></span><br><span class="line"><span class="built_in">tail</span> -f log.txt        <span class="comment"># 实时监控日志文件</span></span><br></pre></td></tr></table></figure>

<h3 id="9-3-文本提取与转换"><a href="#9-3-文本提取与转换" class="headerlink" title="9.3 文本提取与转换"></a>9.3 文本提取与转换</h3><h4 id="cut-命令"><a href="#cut-命令" class="headerlink" title="cut 命令"></a>cut 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cut</span> -c 1-5 file.txt      <span class="comment"># 提取每行第1-5个字符</span></span><br><span class="line"><span class="built_in">cut</span> -d: -f1 /etc/passwd  <span class="comment"># 以冒号分隔，提取第一个字段</span></span><br></pre></td></tr></table></figure>

<h4 id="join-命令（合并文件）"><a href="#join-命令（合并文件）" class="headerlink" title="join 命令（合并文件）"></a>join 命令（合并文件）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">join</span> -j 1 file1.txt file2.txt  <span class="comment"># 按第一个字段合并两个文件</span></span><br></pre></td></tr></table></figure>

<h4 id="paste-命令"><a href="#paste-命令" class="headerlink" title="paste 命令"></a>paste 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">paste</span> -d<span class="string">&quot;;&quot;</span> file1.txt file2.txt  <span class="comment"># 用分号分隔合并文件</span></span><br></pre></td></tr></table></figure>

<h4 id="tr-命令（字符转换）"><a href="#tr-命令（字符转换）" class="headerlink" title="tr 命令（字符转换）"></a>tr 命令（字符转换）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tr</span> <span class="string">&#x27;a-z&#x27;</span> <span class="string">&#x27;A-Z&#x27;</span> &lt; file.txt    <span class="comment"># 小写转大写</span></span><br><span class="line"><span class="built_in">tr</span> -d <span class="string">&#x27;\r&#x27;</span> &lt; file.txt        <span class="comment"># 删除回车符</span></span><br><span class="line"><span class="built_in">tr</span> -s <span class="string">&#x27; &#x27;</span> &lt; file.txt         <span class="comment"># 压缩连续空格</span></span><br><span class="line"><span class="built_in">tr</span> -d <span class="string">&#x27;[:digit:]&#x27;</span> &lt; file.txt <span class="comment"># 删除所有数字</span></span><br></pre></td></tr></table></figure>

<h3 id="9-4-文本排序与统计"><a href="#9-4-文本排序与统计" class="headerlink" title="9.4 文本排序与统计"></a>9.4 文本排序与统计</h3><h4 id="sort-命令"><a href="#sort-命令" class="headerlink" title="sort 命令"></a>sort 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span> file.txt          <span class="comment"># 按字母顺序排序</span></span><br><span class="line"><span class="built_in">sort</span> -n file.txt       <span class="comment"># 按数值排序</span></span><br><span class="line"><span class="built_in">sort</span> -r file.txt       <span class="comment"># 反向排序</span></span><br><span class="line"><span class="built_in">sort</span> -t: -k3n /etc/passwd  <span class="comment"># 按冒号分隔的第3列数值排序</span></span><br></pre></td></tr></table></figure>

<h4 id="uniq-命令（去重）"><a href="#uniq-命令（去重）" class="headerlink" title="uniq 命令（去重）"></a>uniq 命令（去重）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span> file.txt | <span class="built_in">uniq</span>    <span class="comment"># 去重（需先排序）</span></span><br><span class="line"><span class="built_in">uniq</span> -d file.txt        <span class="comment"># 只显示重复行</span></span><br><span class="line"><span class="built_in">uniq</span> -u file.txt        <span class="comment"># 只显示唯一行</span></span><br></pre></td></tr></table></figure>

<h4 id="wc-命令（统计）"><a href="#wc-命令（统计）" class="headerlink" title="wc 命令（统计）"></a>wc 命令（统计）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">wc</span> -l file.txt    <span class="comment"># 统计行数</span></span><br><span class="line"><span class="built_in">wc</span> -w file.txt    <span class="comment"># 统计单词数</span></span><br><span class="line"><span class="built_in">wc</span> -c file.txt    <span class="comment"># 统计字节数</span></span><br></pre></td></tr></table></figure>

<h3 id="9-5-文本分割与格式化"><a href="#9-5-文本分割与格式化" class="headerlink" title="9.5 文本分割与格式化"></a>9.5 文本分割与格式化</h3><h4 id="split-命令"><a href="#split-命令" class="headerlink" title="split 命令"></a>split 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">split</span> -l 1000 bigfile.txt part_  <span class="comment"># 每1000行分割文件</span></span><br></pre></td></tr></table></figure>

<h4 id="pr-命令（分页）"><a href="#pr-命令（分页）" class="headerlink" title="pr 命令（分页）"></a>pr 命令（分页）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">pr</span> -l 40 file.txt    <span class="comment"># 按每页40行分页显示</span></span><br></pre></td></tr></table></figure>

<h4 id="fmt-命令（格式化）"><a href="#fmt-命令（格式化）" class="headerlink" title="fmt 命令（格式化）"></a>fmt 命令（格式化）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">fmt</span> -w 80 file.txt   <span class="comment"># 设置每行80个字符</span></span><br></pre></td></tr></table></figure>

<h4 id="expand-unexpand-命令"><a href="#expand-unexpand-命令" class="headerlink" title="expand&#x2F;unexpand 命令"></a>expand&#x2F;unexpand 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">expand</span> -t 4 file.txt    <span class="comment"># 将tab转为4个空格</span></span><br><span class="line"><span class="built_in">unexpand</span> -t 4 file.txt  <span class="comment"># 将4个空格转为tab</span></span><br></pre></td></tr></table></figure>

<h3 id="8-6-高级文本处理"><a href="#8-6-高级文本处理" class="headerlink" title="8.6 高级文本处理"></a>8.6 高级文本处理</h3><h4 id="xargs-命令"><a href="#xargs-命令" class="headerlink" title="xargs 命令"></a>xargs 命令</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -name <span class="string">&quot;*.log&quot;</span> | xargs <span class="built_in">rm</span>    <span class="comment"># 删除所有log文件</span></span><br><span class="line">find . -<span class="built_in">type</span> f | xargs grep <span class="string">&quot;text&quot;</span> <span class="comment"># 在所有文件中搜索文本</span></span><br></pre></td></tr></table></figure>

<h2 id="10-vi-vim-编辑器"><a href="#10-vi-vim-编辑器" class="headerlink" title="10. vi&#x2F;vim 编辑器"></a>10. vi&#x2F;vim 编辑器</h2><h3 id="10-1-基本操作"><a href="#10-1-基本操作" class="headerlink" title="10.1 基本操作"></a>10.1 基本操作</h3><h4 id="启动与退出"><a href="#启动与退出" class="headerlink" title="启动与退出"></a>启动与退出</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi file.txt        <span class="comment"># 编辑文件</span></span><br><span class="line">vi -R file.txt     <span class="comment"># 只读模式</span></span><br><span class="line">:q                 <span class="comment"># 退出</span></span><br><span class="line">:q!                <span class="comment"># 强制退出</span></span><br><span class="line">:wq 或 ZZ          <span class="comment"># 保存退出</span></span><br></pre></td></tr></table></figure>

<h4 id="模式切换"><a href="#模式切换" class="headerlink" title="模式切换"></a>模式切换</h4><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>在光标前插入</td>
</tr>
<tr>
<td>a</td>
<td>在光标后插入</td>
</tr>
<tr>
<td>I</td>
<td>在行首插入</td>
</tr>
<tr>
<td>A</td>
<td>在行尾插入</td>
</tr>
<tr>
<td>o</td>
<td>在下一行插入</td>
</tr>
<tr>
<td>O</td>
<td>在上一行插入</td>
</tr>
<tr>
<td>ESC</td>
<td>返回命令模式</td>
</tr>
</tbody></table>
<h3 id="10-2-光标移动"><a href="#10-2-光标移动" class="headerlink" title="10.2 光标移动"></a>10.2 光标移动</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>h&#x2F;j&#x2F;k&#x2F;l</td>
<td>左&#x2F;下&#x2F;上&#x2F;右</td>
</tr>
<tr>
<td>0</td>
<td>行首</td>
</tr>
<tr>
<td>$</td>
<td>行尾</td>
</tr>
<tr>
<td>gg</td>
<td>文件开头</td>
</tr>
<tr>
<td>G</td>
<td>文件末尾</td>
</tr>
<tr>
<td>50G</td>
<td>跳转到第50行</td>
</tr>
<tr>
<td>Ctrl+b</td>
<td>上一页</td>
</tr>
<tr>
<td>Ctrl+f</td>
<td>下一页</td>
</tr>
</tbody></table>
<h3 id="10-3-编辑命令"><a href="#10-3-编辑命令" class="headerlink" title="10.3 编辑命令"></a>10.3 编辑命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>删除当前字符</td>
</tr>
<tr>
<td>X</td>
<td>删除前一个字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除当前行</td>
</tr>
<tr>
<td>dw</td>
<td>删除下一个单词</td>
</tr>
<tr>
<td>yy</td>
<td>复制当前行</td>
</tr>
<tr>
<td>p</td>
<td>粘贴到光标后</td>
</tr>
<tr>
<td>P</td>
<td>粘贴到光标前</td>
</tr>
<tr>
<td>u</td>
<td>撤销</td>
</tr>
<tr>
<td>Ctrl+r</td>
<td>重做</td>
</tr>
</tbody></table>
<h3 id="10-4-搜索与替换"><a href="#10-4-搜索与替换" class="headerlink" title="10.4 搜索与替换"></a>10.4 搜索与替换</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>&#x2F;pattern</td>
<td>向前搜索</td>
</tr>
<tr>
<td>?pattern</td>
<td>向后搜索</td>
</tr>
<tr>
<td>n</td>
<td>下一个匹配项</td>
</tr>
<tr>
<td>N</td>
<td>上一个匹配项</td>
</tr>
<tr>
<td>:%s&#x2F;old&#x2F;new&#x2F;g</td>
<td>全局替换</td>
</tr>
<tr>
<td>:1,10s&#x2F;old&#x2F;new&#x2F;g</td>
<td>替换1-10行的内容</td>
</tr>
</tbody></table>
<h3 id="10-5-设置选项"><a href="#10-5-设置选项" class="headerlink" title="10.5 设置选项"></a>10.5 设置选项</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">:<span class="keyword">set</span> <span class="keyword">nu</span>        # 显示行号</span><br><span class="line">:<span class="keyword">set</span> nonu      # 隐藏行号</span><br><span class="line">:<span class="keyword">set</span> <span class="keyword">ts</span>=<span class="number">4</span>      # 设置<span class="keyword">tab</span>为<span class="number">4</span>个空格</span><br><span class="line">:<span class="keyword">set</span> <span class="keyword">list</span>      # 显示不可见字符</span><br></pre></td></tr></table></figure>

<h2 id="11-正则表达式与文本搜索"><a href="#11-正则表达式与文本搜索" class="headerlink" title="11. 正则表达式与文本搜索"></a>11. 正则表达式与文本搜索</h2><h3 id="11-1-基本元字符"><a href="#11-1-基本元字符" class="headerlink" title="11.1 基本元字符"></a>11.1 基本元字符</h3><table>
<thead>
<tr>
<th>元字符</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>匹配任意单个字符</td>
</tr>
<tr>
<td>*</td>
<td>前一个字符0次或多次</td>
</tr>
<tr>
<td>[]</td>
<td>匹配括号内任意一个字符</td>
</tr>
<tr>
<td>[^]</td>
<td>不匹配括号内的字符</td>
</tr>
<tr>
<td>^</td>
<td>行首</td>
</tr>
<tr>
<td>$</td>
<td>行尾</td>
</tr>
<tr>
<td>\</td>
<td>转义特殊字符</td>
</tr>
</tbody></table>
<h3 id="11-2-grep-命令"><a href="#11-2-grep-命令" class="headerlink" title="11.2 grep 命令"></a>11.2 grep 命令</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&quot;pattern&quot;</span> file.txt      <span class="comment"># 基本搜索</span></span><br><span class="line">grep -i <span class="string">&quot;pattern&quot;</span> file.txt   <span class="comment"># 忽略大小写</span></span><br><span class="line">grep -v <span class="string">&quot;pattern&quot;</span> file.txt   <span class="comment"># 反向匹配</span></span><br><span class="line">grep -n <span class="string">&quot;pattern&quot;</span> file.txt   <span class="comment"># 显示行号</span></span><br><span class="line">grep -E <span class="string">&quot;regex&quot;</span> file.txt     <span class="comment"># 使用扩展正则</span></span><br><span class="line">grep -r <span class="string">&quot;pattern&quot;</span> /dir       <span class="comment"># 递归搜索目录</span></span><br></pre></td></tr></table></figure>

<h4 id="特殊变体"><a href="#特殊变体" class="headerlink" title="特殊变体"></a>特殊变体</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">egrep = grep -E       <span class="comment"># 扩展正则表达式</span></span><br><span class="line">fgrep = grep -F       <span class="comment"># 不解析正则，快速搜索</span></span><br><span class="line">pgrep -u root         <span class="comment"># 搜索root用户的进程</span></span><br></pre></td></tr></table></figure>

<h3 id="11-3-sed-流编辑器"><a href="#11-3-sed-流编辑器" class="headerlink" title="11.3 sed 流编辑器"></a>11.3 sed 流编辑器</h3><h4 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">&#x27;s/old/new/&#x27;</span> file.txt       <span class="comment"># 替换第一个匹配</span></span><br><span class="line">sed <span class="string">&#x27;s/old/new/g&#x27;</span> file.txt      <span class="comment"># 替换所有匹配</span></span><br><span class="line">sed <span class="string">&#x27;1,5d&#x27;</span> file.txt             <span class="comment"># 删除1-5行</span></span><br><span class="line">sed <span class="string">&#x27;/pattern/d&#x27;</span> file.txt       <span class="comment"># 删除匹配行</span></span><br></pre></td></tr></table></figure>

<h4 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed -n <span class="string">&#x27;10,20p&#x27;</span> file.txt       <span class="comment"># 只打印10-20行</span></span><br><span class="line">sed <span class="string">&#x27;y/abc/ABC/&#x27;</span> file.txt      <span class="comment"># 字符转换</span></span><br><span class="line">sed -i.bak <span class="string">&#x27;s/old/new/&#x27;</span> file   <span class="comment"># 直接修改文件并备份</span></span><br><span class="line">sed -e <span class="string">&#x27;cmd1&#x27;</span> -e <span class="string">&#x27;cmd2&#x27;</span> file   <span class="comment"># 执行多个命令</span></span><br></pre></td></tr></table></figure>

<h4 id="脚本示例"><a href="#脚本示例" class="headerlink" title="脚本示例"></a>脚本示例</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将1-5行行首添加&gt;字符</span></span><br><span class="line">sed <span class="string">&#x27;1,5s/^/&gt;/&#x27;</span> file.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将每行的第一个数字替换为#</span></span><br><span class="line">sed <span class="string">&#x27;s/[0-9]/#/&#x27;</span> file.txt</span><br></pre></td></tr></table></figure>

<h3 id="11-4-正则表达式示例"><a href="#11-4-正则表达式示例" class="headerlink" title="11.4 正则表达式示例"></a>11.4 正则表达式示例</h3><ol>
<li>匹配IP地址：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E <span class="string">&#x27;([0-9]&#123;1,3&#125;\.)&#123;3&#125;[0-9]&#123;1,3&#125;&#x27;</span> file.txt</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>匹配邮箱地址：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E <span class="string">&#x27;[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]&#123;2,&#125;&#x27;</span> file.txt</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>提取HTML标签内容：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -n <span class="string">&#x27;s/&lt;title&gt;\(.*\)&lt;\/title&gt;/\1/p&#x27;</span> file.html</span><br></pre></td></tr></table></figure>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="../../../../../tags/LPIC/" rel="tag">LPIC</a> <a class="tag tag--primary tag--small t-none-link" href="../../../../../tags/linux/" rel="tag">linux</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../08/linux/4-%E6%96%87%E4%BB%B6%E5%92%8C%E7%A8%8B%E5%BA%8F%E7%AE%A1%E7%90%86/"
                    data-tooltip="4.文件和程序管理"
                    aria-label="上一篇: 4.文件和程序管理"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../2-linux%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8C%85%E7%AE%A1%E7%90%86/"
                    data-tooltip="2.linux安装与包管理"
                    aria-label="下一篇: 2.linux安装与包管理"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Kein Chan. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../08/linux/4-%E6%96%87%E4%BB%B6%E5%92%8C%E7%A8%8B%E5%BA%8F%E7%AE%A1%E7%90%86/"
                    data-tooltip="4.文件和程序管理"
                    aria-label="上一篇: 4.文件和程序管理"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../2-linux%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8C%85%E7%AE%A1%E7%90%86/"
                    data-tooltip="2.linux安装与包管理"
                    aria-label="下一篇: 2.linux安装与包管理"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2020/05/07/linux/3-bash/"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2020/05/07/linux/3-bash/"
                        aria-label="分享到 Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2020/05/07/linux/3-bash/"
                        aria-label="分享到 Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2020/05/07/linux/3-bash/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2020/05/07/linux/3-bash/"
                        aria-label="分享到 Weibo"
                    >
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Kein Chan</h4>
        
            <div id="about-card-bio"><p>這是獨立全棧工程師Kein Chan的技術博客</br>Kein目前居住在東京和澳門.</br>熱愛旅遊.已探訪日本40多個都道府縣.曾自駕環繞日本半個本州.</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>全棧工程師</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Tokyo/Macao
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="../assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">沒有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2017/04/28/linux%E5%9F%BA%E7%A1%80/"
                            aria-label=": linux基础"
                        >
                            <h3 class="media-heading">linux基础</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年4月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2017/04/28/iptables/"
                            aria-label=": iptables"
                        >
                            <h3 class="media-heading">iptables</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年4月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2017/08/12/git%E6%95%99%E7%A8%8B/"
                            aria-label=": git教程"
                        >
                            <h3 class="media-heading">git教程</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2017年8月12日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/01/18/Java%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B/"
                            aria-label=": Java变量类型"
                        >
                            <h3 class="media-heading">Java变量类型</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年1月18日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/12/%E6%95%B0%E5%AD%A6/markdown-latex%E7%9A%84%E6%95%B0%E5%AD%A6%E5%BC%8F%E5%86%99%E6%B3%95/"
                            aria-label=": LaTeX的写法"
                        >
                            <h3 class="media-heading">LaTeX的写法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月12日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/13/%E6%95%B0%E5%AD%A6/0-%E4%B8%AD%E5%AD%A6%E6%95%B0%E5%AD%A6%E5%A4%8D%E4%B9%A0/"
                            aria-label=": 0.中学数学复习"
                        >
                            <h3 class="media-heading">0.中学数学复习</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月13日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/28/%E6%95%B0%E5%AD%A6/1-%E5%88%9D%E7%AD%89%E5%87%BD%E6%95%B0%E7%9A%84%E5%AF%BC%E6%95%B0%E6%8E%A8%E5%AF%BC/"
                            aria-label=": 1.初等函数的导数推导"
                        >
                            <h3 class="media-heading">1.初等函数的导数推导</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/28/%E6%95%B0%E5%AD%A6/2-%E5%87%BD%E6%95%B0%E7%9A%84%E6%B1%82%E5%AF%BC%E6%B3%95%E5%88%99/"
                            aria-label=": 2.函数的求导法则"
                        >
                            <h3 class="media-heading">2.函数的求导法则</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/28/%E6%95%B0%E5%AD%A6/3-%E8%8E%B1%E5%B8%83%E5%B0%BC%E5%85%B9%E5%85%AC%E5%BC%8F/"
                            aria-label=": 3.莱布尼兹公式"
                        >
                            <h3 class="media-heading">3.莱布尼兹公式</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2019/09/28/%E6%95%B0%E5%AD%A6/4-%E5%BE%AE%E5%88%86/"
                            aria-label=": 4.微分"
                        >
                            <h3 class="media-heading">4.微分</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2019年9月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="沒有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 42 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('../../../../../assets/images/cover.jpeg');"></div>
        <!--SCRIPTS-->

<script src="../../../../../assets/js/script-qtzvvb63gamuirvfphht7lytrxkfllzng1escnm2phjtlt4tvvxi5gl0wx4o.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
