
<!DOCTYPE html>
<html lang="zh-tw">
    
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css">

    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/min/moment.min.js"></script>
    
      <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/locale/zh-tw.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script>
    <script>
      window.algoliaConfig = {
        appId: 'AWFC86Q51O',
        apiKey: 'c9d952906eb1b154d75cf863e75c1ede',
        indexName: 'MyBlog'
      };
      var algoliaIndex = algoliasearch(
        algoliaConfig.appId,
        algoliaConfig.apiKey
      ).initIndex(algoliaConfig.indexName);
    </script>


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Kein&#39;s blog">
    <title>React入门教程 - Kein&#39;s blog</title>
    <meta name="author" content="Kein Chan">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kein Chan","sameAs":["https://github.com/chankein/","https://www.linkedin.com/profile/","mailto:kein.chan85@gmail.com"],"image":"profile.jpg"},"articleBody":"react - JSX\nReact 背景介绍\n\nReact 入门实例教程\n\nReact 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。\n什么是React\n\n\nA JAVASCRIPT LIBRARY FOR BUILDING USER INTERFACES\n\n用来构建UI的 JavaScript库\nReact 不是一个 MVC 框架，仅仅是视图（V）层的库\n\n\n\nReact 官网\n\n\nReact 中文文档\n\n\n特点\n\n1 使用 JSX语法 创建组件，实现组件化开发，为函数式的 UI 编程方式打开了大门\n2 性能高的让人称赞：通过 diff算法 和 虚拟DOM 实现视图的高效更新\n3 HTML仅仅是个开始\n\n123456&gt; JSX --TO--&gt; EveryThing- JSX --&gt; HTML- JSX --&gt; native ios或android中的组件（XML）- JSX --&gt; VR- JSX --&gt; 物联网\n为什么要用React\n\n1 使用组件化开发方式，符合现代Web开发的趋势\n2 技术成熟，社区完善，配件齐全，适用于大型Web项目（生态系统健全）\n3 由Facebook专门的团队维护，技术支持可靠\n4 ReactNative - Learn once, write anywhere: Build mobile apps with React\n5 使用方式简单，性能非常高，支持服务端渲染\n6 React非常火，从技术角度，可以满足好奇心，提高技术水平；从职业角度，有利于求职和晋升，有利于参与潜力大的项目\n\nReact中的核心概念\n\n1 虚拟DOM（Virtual DOM）\n2 Diff算法（虚拟DOM的加速器，提升React性能的法宝）\n\n虚拟DOM（Vitural DOM）\n\nReact将DOM抽象为虚拟DOM，虚拟DOM其实就是用一个对象来描述DOM，通过对比前后两个对象的差异，最终只把变化的部分重新渲染，提高渲染的效率\n为什么用虚拟dom，当dom反生更改时需要遍历 而原生dom可遍历属性多大231个 且大部分与渲染无关 更新页面代价太大\n\n\n如何实现一个 Virtual DOM 算法\n理解 Virtual DOM\n\nVituralDOM的处理方式\n\n1 用 JavaScript 对象结构表示 DOM 树的结构，然后用这个树构建一个真正的 DOM 树，插到文档当中\n2 当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异\n3 把2所记录的差异应用到步骤1所构建的真正的DOM树上，视图就更新了\n\nDiff算法\n\nReconciliation diff\ndiff算法 - 中文文档\n不可思议的 react diff\nReact diff 算法\n\n\n当你使用React的时候，在某个时间点 render() 函数创建了一棵React元素树，\n在下一个state或者props更新的时候，render() 函数将创建一棵新的React元素树，\nReact将对比这两棵树的不同之处，计算出如何高效的更新UI（只更新变化的地方）\n\n1234&lt;!-- 了解：有一些解决将一棵树转换为另一棵树的最小操作数算法问题的通用方案。然而，树中元素个数为n，最先进的算法 的时间复杂度为O(n3) 。如果直接使用这个算法，在React中展示1000个元素则需要进行10亿次的比较。这操作太过昂贵，相反，React基于两点假设，实现了一个O(n)算法，提升性能： --&gt;\n\n\nReact中有两种假定：\n\n1 两个不同类型的元素会产生不同的树(根元素不同结构树一定不同)\n2 开发者可以通过key属性指定不同树中没有发生改变的子元素\n\n\n\nDiff算法的说明 - 1\n\n如果两棵树的根元素类型不同，React会销毁旧树，创建新树\n\n1234567891011// 旧树&lt;div&gt;  &lt;Counter /&gt;&lt;/div&gt;// 新树&lt;span&gt;  &lt;Counter /&gt;&lt;/span&gt;执行过程：destory Counter -&gt; insert Counter\nDiff算法的说明 - 2\n\n对于类型相同的React DOM 元素，React会对比两者的属性是否相同，只更新不同的属性\n当处理完这个DOM节点，React就会递归处理子节点。\n\n1234567891011// 旧&lt;div className=&quot;before&quot; title=&quot;stuff&quot; /&gt;// 新&lt;div className=&quot;after&quot; title=&quot;stuff&quot; /&gt;只更新：className 属性// 旧&lt;div style=&#123;&#123;color: &#x27;red&#x27;, fontWeight: &#x27;bold&#x27;&#125;&#125; /&gt;// 新&lt;div style=&#123;&#123;color: &#x27;green&#x27;, fontWeight: &#x27;bold&#x27;&#125;&#125; /&gt;只更新：color属性\nDiff算法的说明 - 3\n\n1 当在子节点的后面添加一个节点，这时候两棵树的转化工作执行的很好\n\n123456789101112131415// 旧&lt;ul&gt;  &lt;li&gt;first&lt;/li&gt;  &lt;li&gt;second&lt;/li&gt;&lt;/ul&gt;// 新&lt;ul&gt;  &lt;li&gt;first&lt;/li&gt;  &lt;li&gt;second&lt;/li&gt;  &lt;li&gt;third&lt;/li&gt;&lt;/ul&gt;执行过程：React会匹配新旧两个&lt;li&gt;first&lt;/li&gt;，匹配两个&lt;li&gt;second&lt;/li&gt;，然后添加 &lt;li&gt;third&lt;/li&gt; tree\n\n2 但是如果你在开始位置插入一个元素，那么问题就来了：\n\n123456789101112131415// 旧&lt;ul&gt;  &lt;li&gt;Duke&lt;/li&gt;  &lt;li&gt;Villanova&lt;/li&gt;&lt;/ul&gt;// 新&lt;ul&gt;  &lt;li&gt;Connecticut&lt;/li&gt;  &lt;li&gt;Duke&lt;/li&gt;  &lt;li&gt;Villanova&lt;/li&gt;&lt;/ul&gt;在没有key属性时执行过程：React将改变每一个子删除重新创建，而非保持 &lt;li&gt;Duke&lt;/li&gt; 和 &lt;li&gt;Villanova&lt;/li&gt; 不变\nkey 属性\n\n为了解决以上问题，React提供了一个 key 属性。当子节点带有key属性，React会通过key来匹配原始树和后来的树。\n\n1234567891011121314// 旧&lt;ul&gt;  &lt;li key=&quot;2015&quot;&gt;Duke&lt;/li&gt;  &lt;li key=&quot;2016&quot;&gt;Villanova&lt;/li&gt;&lt;/ul&gt;// 新&lt;ul&gt;  &lt;li key=&quot;2014&quot;&gt;Connecticut&lt;/li&gt;  &lt;li key=&quot;2015&quot;&gt;Duke&lt;/li&gt;  &lt;li key=&quot;2016&quot;&gt;Villanova&lt;/li&gt;&lt;/ul&gt;执行过程：现在 React 知道带有key &#x27;2014&#x27; 的元素是新的，对于 &#x27;2015&#x27; 和 &#x27;2016&#x27; 仅仅移动位置即可 \n\n说明：key属性在React内部使用，但不会传递给你的组件\n推荐：在遍历数据时，推荐在组件中使用 key 属性：&lt;li key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/li&gt;\n注意：key只需要保持与他的兄弟节点唯一即可，不需要全局唯一\n注意：尽可能的减少数组index作为key，数组中插入元素的等操作时，会使得效率底下\n\nReact的基本使用\n\n安装：npm i -S react react-dom\nreact：react 是React库的入口点\nreact-dom：提供了针对DOM的方法，比如：把创建的虚拟DOM，渲染到页面上\n\n12345678910111213// 1. 导入 reactimport React from &#x27;react&#x27;import ReactDOM from &#x27;react-dom&#x27;// 2. 创建 虚拟DOM// 参数1：元素名称  参数2：元素属性对象(null表示无)  参数3：当前元素的子元素string||createElement() 的返回值const divVD = React.createElement(&#x27;div&#x27;, &#123;  title: &#x27;hello react&#x27;&#125;, &#x27;Hello React！！！&#x27;)// 3. 渲染// 参数1：虚拟dom对象  参数2：dom对象表示渲染到哪个元素内 参数3：回调函数ReactDOM.render(divVD, document.getElementById(&#x27;app&#x27;))\ncreateElement()的问题\n\n说明：createElement()方式，代码编写不友好，太复杂\n\n12345678910111213141516171819202122232425var dv = React.createElement(  &quot;div&quot;,  &#123; className: &quot;shopping-list&quot; &#125;,  React.createElement(    &quot;h1&quot;,    null,    &quot;Shopping List for &quot;  ),  React.createElement(    &quot;ul&quot;,    null,    React.createElement(      &quot;li&quot;,      null,      &quot;Instagram&quot;    ),    React.createElement(      &quot;li&quot;,      null,      &quot;WhatsApp&quot;    )  ))// 渲染ReactDOM.render(dv, document.getElementById(&#x27;app&#x27;))\nJSX 的基本使用\n\n注意：JSX语法，最终会被编译为 createElement() 方法\n推荐：使用 JSX 的方式创建组件\nJSX - JavaScript XML\n安装：npm i -D babel-preset-react （依赖与：babel-core/babel-loader）\n\n\n注意：JSX的语法需要通过 babel-preset-react 编译后，才能被解析执行\n\n123456789101112131415161718192021/* 1 在 .babelrc 开启babel对 JSX 的转换 */&#123;  &quot;presets&quot;: [    &quot;env&quot;, &quot;react&quot;  ]&#125;/* 2 webpack.config.js */module: [  rules: [    &#123; test: /\\.js$/, use: &#x27;babel-loader&#x27;, exclude: /node_modules/ &#125;,  ]]/* 3 在 js 文件中 使用 JSX */const dv = (  &lt;div title=&quot;标题&quot; className=&quot;cls container&quot;&gt;Hello JSX!&lt;/div&gt;)/* 4 渲染 JSX 到页面中 */ReactDOM.render(dv, document.getElementById(&#x27;app&#x27;))\nJSX的注意点\n\n\n注意 1: 如果在 JSX 中给元素添加类, 需要使用 className 代替 class\n\n类似：label 的 for属性，使用htmlFor代替\n\n\n\n注意 2：在 JSX 中可以直接使用 JS代码，直接在 JSX 中通过 {} 中间写 JS代码即可\n\n\n注意 3：在 JSX 中只能使用表达式，但是不能出现 语句！！！\n\n\n注意 4：在 JSX 中注释语法：&#123;/* 中间是注释的内容 */&#125;\n\n\nReact组件\n\nReact 组件可以让你把UI分割为独立、可复用的片段，并将每一片段视为相互独立的部分。\n\n\n组件是由一个个的HTML元素组成的\n概念上来讲, 组件就像JS中的函数。它们接受用户输入（props），并且返回一个React对象，用来描述展示在页面中的内容\n\nReact创建组件的两种方式\n\n1 通过 JS函数 创建（无状态组件）\n2 通过 class 创建（有状态组件）\n\n123函数式组件 和 class 组件的使用场景说明：1 如果一个组件仅仅是为了展示数据，那么此时就可以使用 函数组件2 如果一个组件中有一定业务逻辑，需要操作数据，那么就需要使用 class 创建组件，因为，此时需要使用 state\nJavaScript函数创建\n\n注意：1 函数名称必须为大写字母开头，React通过这个特点来判断是不是一个组件\n注意：2 函数必须有返回值，返回值可以是：JSX对象或null\n注意：3 返回的JSX，必须有一个根元素\n注意：4 组件的返回值使用()包裹，避免换行问题\n\n123456789101112131415161718function Welcome(props) &#123;  return (    // 此处注释的写法     &lt;div className=&quot;shopping-list&quot;&gt;      &#123;/* 此处 注释的写法 必须要&#123;&#125;包裹 */&#125;      &lt;h1&gt;Shopping List for &#123;props.name&#125;&lt;/h1&gt;      &lt;ul&gt;        &lt;li&gt;Instagram&lt;/li&gt;        &lt;li&gt;WhatsApp&lt;/li&gt;      &lt;/ul&gt;    &lt;/div&gt;  )&#125;ReactDOM.render(  &lt;Welcome name=&quot;jack&quot; /&gt;,  document.getElementById(&#x27;app&#x27;))\nclass创建\n\n在es6中class仅仅是一个语法糖，不是真正的类，本质上还是构造函数+原型 实现继承\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// ES6中class关键字的简单使用// - **ES6中的所有的代码都是运行在严格模式中的**// - 1 它是用来定义类的，是ES6中实现面向对象编程的新方式// - 2 使用`static`关键字定义静态属性// - 3 使用`constructor`构造函数，创建实例属性// - [参考](http://es6.ruanyifeng.com/#docs/class)// 语法：class Person &#123;  // 实例的构造函数 constructor  constructor(age)&#123;    // 实例属性    this.age = age  &#125;  // 在class中定义方法 此处为实例方法 通过实例打点调用  sayHello () &#123;    console.log(&#x27;大家好，我今年&#x27; + this.age + &#x27;了&#x27;);  &#125;  // 静态方法 通过构造函数打点调用 Person.doudou()  static doudou () &#123;    console.log(&#x27;我是小明，我新get了一个技能，会暖床&#x27;);  &#125;&#125;// 添加静态属性Person.staticName = &#x27;静态属性&#x27;// 实例化对象const p = new Person(19)  // 实现继承的方式 class American extends Person &#123;  constructor() &#123;    // 必须调用super(), super表示父类的构造函数    super()    this.skin = &#x27;white&#x27;    this.eyeColor = &#x27;white&#x27;  &#125;&#125;// 创建react对象// 注意：基于 `ES6` 中的class，需要配合 `babel` 将代码转化为浏览器识别的ES5语法// 安装：`npm i -D babel-preset-env` //  react对象继承字React.Componentclass ShoppingList extends React.Component &#123;  constructor(props) &#123;     super(props)  &#125;  // class创建的组件中 必须有rander方法 且显示return一个react对象或者null  render() &#123;    return (      &lt;div className=&quot;shopping-list&quot;&gt;        &lt;h1&gt;Shopping List for &#123;this.props.name&#125;&lt;/h1&gt;        &lt;ul&gt;          &lt;li&gt;Instagram&lt;/li&gt;          &lt;li&gt;WhatsApp&lt;/li&gt;        &lt;/ul&gt;      &lt;/div&gt;    )  &#125;&#125;\n给组件传递数据 - 父子组件传递数据\n\n组件中有一个 只读的对象 叫做 props，无法给props添加属性\n获取方式：函数参数 props\n作用：将传递给组件的属性转化为 props 对象中的属性\n\n123456789101112function Welcome(props)&#123;  // props ---&gt; &#123; username: &#x27;zs&#x27;, age: 20 &#125;  return (    &lt;div&gt;      &lt;div&gt;Welcome React&lt;/div&gt;      &lt;h3&gt;姓名：&#123;props.username&#125;----年龄是：&#123;props.age&#125;&lt;/h3&gt;    &lt;/div&gt;  )&#125;// 给 Hello组件 传递 props：username 和 age(如果你想要传递numb类型是数据 就需要向下面这样)ReactDOM.reander(&lt;Hello username=&quot;zs&quot; age=&#123;20&#125;&gt;&lt;/Hello&gt;, ......)\n封装组件到独立的文件中\n1234567891011121314151617181920// 创建Hello2.js组件文件// 1. 引入React模块// 由于 JSX 编译后会调用 React.createElement 方法，所以在你的 JSX 代码中必须首先拿到React。import React from &#x27;react&#x27;// 2. 使用function构造函数创建组件function Hello2(props)&#123;  return (    &lt;div&gt;      &lt;div&gt;这是Hello2组件&lt;/div&gt;      &lt;h1&gt;这是大大的H1标签，我大，我骄傲！！！&lt;/h1&gt;      &lt;h6&gt;这是小小的h6标签，我小，我傲娇！！！&lt;/h6&gt;    &lt;/div&gt;  )&#125;// 3. 导出组件export default Hello2// app.js中   使用组件：import Hello2 from &#x27;./components/Hello2&#x27;\nprops和state\nprops\n\n\n作用：给组件传递数据，一般用在父子组件之间\n\n\n说明：React把传递给组件的属性转化为一个对象并交给 props\n\n\n特点：props是只读的，无法给props添加或修改属性\n\n\nprops.children：获取组件的内容，比如：\n\n&lt;Hello&gt;组件内容&lt;/Hello&gt; 中的 组件内容\n\n\n\n12345678910111213141516// props 是一个包含数据的对象参数，不要试图修改 props 参数// 返回值：react元素function Welcome(props) &#123;  // 返回的 react元素中必须只有一个根元素  return &lt;div&gt;hello, &#123;props.name&#125;&lt;/div&gt;&#125;class Welcome extends React.Component &#123;  constructor(props) &#123;    super(props)  &#125;  render() &#123;    return &lt;h1&gt;Hello, &#123;this.props.name&#125;&lt;/h1&gt;  &#125;&#125;\nstate\n\n状态即数据\n\n\n\n作用：用来给组件提供组件内部使用的数据\n\n\n注意：只有通过class创建的组件才具有状态\n\n\n注意：状态是私有的，完全由组件来控制\n\n\n注意：不要在 state 中添加 render() 方法中不需要的数据，会影响渲染性能！\n\n可以将组件内部使用但是不渲染在视图中的内容，直接添加给 this\n\n\n\n注意：不要在 render() 方法中调用 setState() 方法来修改state的值\n\n但是可以通过 this.state.name = 'rose' 方式设置state（不推荐!!!）\n\n\n\n1234567891011121314151617// 例：class Hello extends React.Component &#123;  constructor() &#123;    // es6继承必须用super调用父类的constructor    super()    this.state = &#123;      gender: &#x27;male&#x27;    &#125;  &#125;  render() &#123;    return (      &lt;div&gt;性别：&#123; this.state.gender &#125;&lt;/div&gt;    )  &#125;&#125;\nJSX语法转化过程\n1234567891011121314151617181920212223// 1、JSXconst element = (  &lt;h1 className=&quot;greeting&quot;&gt;    Hello, world!  &lt;/h1&gt;)// 2、JSX -&gt; createElementconst element = React.createElement(  &#x27;h1&#x27;,  &#123;className: &#x27;greeting&#x27;&#125;,  &#x27;Hello, world!&#x27;)// React elements: 使用对象的形式描述页面结构// Note: 这是简化后的对象结构const element = &#123;  type: &#x27;h1&#x27;,  props: &#123;    className: &#x27;greeting&#x27;,  &#125;,  children: [&#x27;Hello, world&#x27;]&#125;\n评论列表案例\n\n巩固有状态组件和无状态组件的使用\n两个组件：&lt;CommentList&gt;&lt;/CommentList&gt; 和 &lt;Comment&gt;&lt;/Comment&gt;\n\n12345678910[  &#123; user: &#x27;张三&#x27;, content: &#x27;哈哈，沙发&#x27; &#125;,  &#123; user: &#x27;张三2&#x27;, content: &#x27;哈哈，板凳&#x27; &#125;,  &#123; user: &#x27;张三3&#x27;, content: &#x27;哈哈，凉席&#x27; &#125;,  &#123; user: &#x27;张三4&#x27;, content: &#x27;哈哈，砖头&#x27; &#125;,  &#123; user: &#x27;张三5&#x27;, content: &#x27;哈哈，楼下山炮&#x27; &#125;]// 属性扩展&lt;Comment &#123;...item&#125; key=&#123;i&#125;&gt;&lt;/Comment&gt;\nstyle样式\n1234567891011121314151617// 1. 直接写行内样式：&lt;li style=&#123;&#123;border:&#x27;1px solid red&#x27;, fontSize:&#x27;12px&#x27;&#125;&#125;&gt;&lt;/li&gt;// 2. 抽离为对象形式var styleH3 = &#123;color:&#x27;blue&#x27;&#125;var styleObj = &#123;  liStyle:&#123;border:&#x27;1px solid red&#x27;, fontSize:&#x27;12px&#x27;&#125;,  h3Style:&#123;color:&#x27;green&#x27;&#125;&#125;&lt;li style=&#123;styleObj.liStyle&#125;&gt;  &lt;h3 style=&#123;styleObj.h3Style&#125;&gt;评论内容：&#123;props.content&#125;&lt;/h3&gt;&lt;/li&gt;// 3. 使用样式表定义样式：import &#x27;../css/comment.css&#x27;&lt;p className=&quot;pUser&quot;&gt;评论人：&#123;props.user&#125;&lt;/p&gt;\n相关文章\n\nReact数据流和组件间的沟通总结\n怎么更好的理解虚拟DOM?\nReact 源码剖析系列 － 不可思议的 react diff\n深入浅出React（四）：虚拟DOM Diff算法解析\n\n组件的生命周期\n\n简单说：一个组件从开始到最后消亡所经历的各种状态，就是一个组件的生命周期\n\n组件生命周期函数的定义：从组件被创建，到组件挂载到页面上运行，再到页面关闭组件被卸载，这三个阶段总是伴随着组件各种各样的事件，那么这些事件，统称为组件的生命周期函数！\n\n通过这个函数，能够让开发人员的代码，参与到组件的生命周期中。也就是说，通过钩子函数，就可以控制组件的行为\nReact 生命周期的管理艺术\n\n组件生命周期函数总览\n\n组件的生命周期包含三个阶段：创建阶段（Mounting）、运行和交互阶段（Updating）、卸载阶段（Unmounting）\nMounting：\n\n\nconstructor()\ncomponentWillMount()\nrender()\ncomponentDidMount()\n\n\nUpdating\n\n\ncomponentWillReceiveProps()\nshouldComponentUpdate()\ncomponentWillUpdate()\nrender()\ncomponentDidUpdate()\n\n\nUnmounting\n\n\ncomponentWillUnmount()\n\n组件生命周期 - 创建阶段(Mounting)\n\n特点：该阶段的函数只执行一次\n\nconstructor()\n\n作用：1 获取props 2 初始化state\n说明：通过 constructor() 的参数props获取\n\n12345678910111213141516class Greeting extends React.Component &#123;  constructor(props) &#123;    // 获取 props    super(props)    // 初始化 state    this.state = &#123;      count: props.initCount    &#125;  &#125;&#125;// 初始化 props// 语法：通过静态属性 defaultProps 来初始化propsGreeting.defaultProps = &#123;  initCount: 0&#125;;\ncomponentWillMount()\n\n说明：组件被挂载到页面之前调用，其在render()之前被调用，因此在这方法里同步地设置状态将不会触发重渲染\n注意：无法获取页面中的DOM对象\n注意：可以调用 setState() 方法来改变状态值\n用途：发送ajax请求获取数据\n\n123456componentWillMount() &#123;  console.warn(document.getElementById(&#x27;btn&#x27;)) // null  this.setState(&#123;    count: this.state.count + 1  &#125;)&#125;\nrender()\n\n\n作用：渲染组件到页面中，无法获取页面中的DOM对象\n\n\n注意：不要在render方法中调用 setState() 方法，否则会递归渲染\n\n原因说明：状态改变会重新调用render()，render()又重新改变状态\n\n\n\n1234567891011121314render() &#123;  console.warn(document.getElementById(&#x27;btn&#x27;)) // null  return (    &lt;div&gt;      &lt;button id=&quot;btn&quot; onClick=&#123;this.handleAdd&#125;&gt;打豆豆一次&lt;/button&gt;      &#123;        this.state.count === 4        ? null        : &lt;CounterChild initCount=&#123;this.state.count&#125;&gt;&lt;/CounterChild&gt;      &#125;    &lt;/div&gt;  )&#125;\ncomponentDidMount()\n\n1 组件已经挂载到页面中\n2 可以进行DOM操作，比如：获取到组件内部的DOM对象\n3 可以发送请求获取数据\n4 可以通过 setState() 修改状态的值\n注意：在这里修改状态会重新渲染\n\n1234componentDidMount() &#123;  // 此时，就可以获取到组件内部的DOM对象  console.warn(&#x27;componentDidMount&#x27;, document.getElementById(&#x27;btn&#x27;))&#125;\n组件生命周期 - 运行阶段（Updating）\n\n特点：该阶段的函数执行多次\n说明：每当组件的props或者state改变的时候，都会触发运行阶段的函数\n\ncomponentWillReceiveProps()\n\n说明：组件接受到新的props前触发这个方法\n参数：当前组件props值\n可以通过 this.props 获取到上一次的值\n使用：若你需要响应属性的改变，可以通过对比this.props和nextProps并在该方法中使用this.setState()处理状态改变\n注意：修改state不会触发该方法\n\n123componentWillReceiveProps(nextProps) &#123;  console.warn(&#x27;componentWillReceiveProps&#x27;, nextProps)&#125;\nshouldComponentUpdate()\n\n作用：根据这个方法的返回值决定是否重新渲染组件，返回true重新渲染，否则不渲染\n优势：通过某个条件渲染组件，降低组件渲染频率，提升组件性能\n说明：如果返回值为false，那么，后续render()方法不会被调用\n注意：这个方法必须返回布尔值！！！\n场景：根据随机数决定是否渲染组件\n\n12345678// - 参数：//   - 第一个参数：最新属性对象//   - 第二个参数：最新状态对象shouldComponentUpdate(nextProps, nextState) &#123;  console.warn(&#x27;shouldComponentUpdate&#x27;, nextProps, nextState)  return nextState.count % 2 === 0&#125;\ncomponentWillUpdate()\n\n作用：组件将要更新\n参数：最新的属性和状态对象\n注意：不能修改状态 否则会循环渲染\n\n123componentWillUpdate(nextProps, nextState) &#123;  console.warn(&#x27;componentWillUpdate&#x27;, nextProps, nextState)&#125;\nrender() 渲染\n\n作用：重新渲染组件，与Mounting阶段的render是同一个函数\n注意：这个函数能够执行多次，只要组件的属性或状态改变了，这个方法就会重新执行\n\ncomponentDidUpdate()\n\n作用：组件已经被更新\n参数：旧的属性和状态对象\n\n123componentDidUpdate(prevProps, prevState) &#123;  console.warn(&#x27;componentDidUpdate&#x27;, prevProps, prevState)&#125;\n组件生命周期 - 卸载阶段（Unmounting）\n\n组件销毁阶段：组件卸载期间，函数比较单一，只有一个函数，这个函数也有一个显著的特点：组件一辈子只能执行依次！\n使用说明：只要组件不再被渲染到页面中，那么这个方法就会被调用（ 渲染到页面中 -&gt; 不再渲染到页面中 ）\n\ncomponentWillUnmount()\n\n\n作用：在卸载组件的时候，执行清理工作，比如\n\n1 清除定时器\n2 清除componentDidMount创建的DOM对象\n\n\n\n\nReact - createClass（不推荐）\n\nReact.createClass(&#123;&#125;) 方式，创建有状态组件，该方式已经被废弃！！！\n通过导入 require('create-react-class')，可以在不适用ES6的情况下，创建有状态组件\ngetDefaultProps() 和 getInitialState() 方法：是 createReactClass() 方式创建组件中的两个函数\nReact without ES6\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243var createReactClass = require(&#x27;create-react-class&#x27;);var Greeting = createReactClass(&#123;  // 初始化 props  getDefaultProps: function() &#123;    console.log(&#x27;getDefaultProps&#x27;);    return &#123;      title: &#x27;Basic counter!!!&#x27;    &#125;  &#125;,  // 初始化 state  getInitialState: function() &#123;    console.log(&#x27;getInitialState&#x27;);    return &#123;      count: 0    &#125;  &#125;,  render: function() &#123;    console.log(&#x27;render&#x27;);    return (      &lt;div&gt;        &lt;h1&gt;&#123;this.props.title&#125;&lt;/h1&gt;        &lt;div&gt;&#123;this.state.count&#125;&lt;/div&gt;        &lt;input type=&#x27;button&#x27; value=&#x27;+&#x27; onClick=&#123;this.handleIncrement&#125; /&gt;      &lt;/div&gt;    );  &#125;,  handleIncrement: function() &#123;    var newCount = this.state.count + 1;    this.setState(&#123;count: newCount&#125;);  &#125;,  propTypes: &#123;    title: React.PropTypes.string  &#125;&#125;);ReactDOM.render(  React.createElement(Greeting),  document.getElementById(&#x27;app&#x27;));\nstate和setState\n\n注意：使用 setState() 方法修改状态，状态改变后，React会重新渲染组件\n注意：不要直接修改state属性的值，这样不会重新渲染组件！！！\n使用：1 初始化state 2 setState修改state\n\n123// 修改state（不推荐使用）// https://facebook.github.io/react/docs/state-and-lifecycle.html#do-not-modify-state-directlythis.state.test = &#x27;这样方式，不会重新渲染组件&#x27;;\n12345678910111213141516171819202122232425262728293031323334353637constructor(props) &#123;  super(props)  // 正确姿势！！！  // -------------- 初始化 state --------------  this.state = &#123;    count: props.initCount  &#125;&#125;componentWillMount() &#123;  // -------------- 修改 state 的值 --------------  // 方式一：  this.setState(&#123;    count: this.state.count + 1  &#125;)  this.setState(&#123;    count: this.state.count + 1  &#125;, function()&#123;    // 由于 setState() 是异步操作，所以，如果想立即获取修改后的state    // 需要在回调函数中获取    // https://doc.react-china.org/docs/react-component.html#setstate  &#125;);  // 方式二：  this.setState(function(prevState, props) &#123;    return &#123;      counter: prevState.counter + props.increment    &#125;  &#125;)  // 或者 - 注意： =&gt; 后面需要带有小括号，因为返回的是一个对象  this.setState((prevState, props) =&gt; (&#123;    counter: prevState.counter + props.increment  &#125;))&#125;\n组件绑定事件\n\n\n1 通过React事件机制 onClick 绑定\n\n\n2 JS原生方式绑定（通过 ref 获取元素）\n\n注意：ref 是React提供的一个特殊属性\nref的使用说明\n\n\n\nReact中的事件机制 - 推荐\n\n注意：事件名称采用驼峰命名法\n例如：onClick 用来绑定单击事件\n\n1234&lt;input type=&quot;button&quot; value=&quot;触发单击事件&quot;  onClick=&#123;this.handleCountAdd&#125;  onMouseEnter=&#123;this.handleMouseEnter&#125;/&gt;\nJS原生方式 - 知道即可\n\n说明：给元素添加 ref 属性，然后，获取元素绑定事件\n\n123456789101112// JSX// 将当前DOM的引用赋值给 this.txtInput 属性&lt;input ref=&#123; input =&gt; this.txtInput = input &#125; type=&quot;button&quot; value=&quot;我是豆豆&quot; /&gt;componentDidMount() &#123;  // 通过 this.txtInput 属性获取元素绑定事件  this.txtInput.addEventListener(() =&gt; &#123;    this.setState(&#123;      count:this.state.count + 1    &#125;)  &#125;)&#125;\n事件绑定中的this\n\n1 通过 bind 绑定\n2 通过 箭头函数 绑定\n\n通过bind绑定\n\n原理：bind能够调用函数，改变函数内部this的指向，并返回一个新函数\n说明：bind第一个参数为返回函数中this的指向，后面的参数为传给返回函数的参数\n\n123456789101112131415161718192021// 自定义方法：handleBtnClick(arg1, arg2) &#123;  this.setState(&#123;    msg: &#x27;点击事件修改state的值&#x27; + arg1 + arg2  &#125;)&#125;render() &#123;  return (    &lt;div&gt;      &lt;button onClick=&#123;        // 无参数        // this.handleBtnClick.bind(this)        // 有参数        this.handleBtnClick.bind(this, &#x27;abc&#x27;, [1, 2])      &#125;&gt;事件中this的处理&lt;/button&gt;      &lt;h1&gt;&#123;this.state.msg&#125;&lt;/h1&gt;    &lt;/div&gt;  )&#125;\n\n在构造函数中使用bind\n\n12345678constructor() &#123;  super()  this.handleBtnClick = this.handleBtnClick.bind(this)&#125;// render() 方法中：&lt;button onClick=&#123; this.handleBtnClick &#125;&gt;事件中this的处理&lt;/button&gt;\n通过箭头函数绑定\n\n原理：箭头函数中的this由所处的环境决定，自身不绑定this\n\n123456789&lt;input type=&quot;button&quot; value=&quot;在构造函数中绑定this并传参&quot; onClick=&#123;  () =&gt; &#123; this.handleBtnClick(&#x27;参数1&#x27;, &#x27;参数2&#x27;) &#125;&#125; /&gt;handleBtnClick(arg1, arg2) &#123;  this.setState(&#123;    msg: &#x27;在构造函数中绑定this并传参&#x27; + arg1 + arg2  &#125;);&#125;\n受控组件\n\n表单和受控组件\n非受控组件\n\n\n在HTML当中，像input,textarea和select这类表单元素会维持自身状态，并根据用户输入进行更新。\n在React中，可变的状态通常保存在组件的state中，并且只能用 setState() 方法进行更新.\nReact根据初始状态渲染表单组件，接受用户后续输入，改变表单组件内部的状态。\n因此，将那些值由React控制的表单元素称为：受控组件。\n\n\n\n受控组件的特点：\n\n1 表单元素\n2 由React通过JSX渲染出来\n3 由React控制值的改变，也就是说想要改变元素的值，只能通过React提供的方法来修改\n\n\n\n注意：只能通过setState来设置受控组件的值\n\n\n1234567891011// 模拟实现文本框数据的双向绑定&lt;input type=&quot;text&quot; value=&#123;this.state.msg&#125; onChange=&#123;this.handleTextChange&#125;/&gt;// 当文本框内容改变的时候，触发这个事件，重新给state赋值handleTextChange = event =&gt; &#123;  console.log(event.target.value)  this.setState(&#123;    msg: event.target.value  &#125;)&#125;\n评论列表案例\n12345[  &#123;name: &#x27;小明&#x27;, content: &#x27;沙发！！！&#x27;&#125;,  &#123;name: &#x27;小红&#x27;, content: &#x27;小明，居然是你&#x27;&#125;,  &#123;name: &#x27;小刚&#x27;, content: &#x27;小明，放学你别走！！！&#x27;&#125;,]\nprops校验\n\n作用：通过类型检查，提高程序的稳定性\n命令：npm i -S prop-types\n使用：给类提供一个静态属性 propTypes（对象），来约束props\n\n123456789// 引入模块import PropTypes from &#x27;prop-types&#x27;// ...以下代码是类的静态属性：// propTypes 静态属性的名称是固定的！！！static propTypes = &#123;  initCount: PropTypes.number, // 规定属性的类型  initAge: PropTypes.number.isRequired // 规定属性的类型，且规定为必传字段&#125;\nReact 单向数据流\n\nReact 中采用单项数据流\n数据流动方向：自上而下，也就是只能由父组件传递到子组件\n数据都是由父组件提供的，子组件想要使用数据，都是从父组件中获取的\n如果多个组件都要使用某个数据，最好将这部分共享的状态提升至他们最近的父组件当中进行管理\n单向数据流\n状态提升\n\n1234567react中的单向数据流动：1 数据应该是从上往下流动的，也就是由父组件将数据传递给子组件2 数据应该是由父组件提供，子组件要使用数据的时候，直接从子组件中获取在我们的评论列表案例中：数据是由CommentList组件（父组件）提供的子组件 CommentItem 负责渲染评论列表，数据是由 父组件提供的子组件 CommentForm 负责获取用户输入的评论内容，最终也是把用户名和评论内容传递给了父组件，由父组件负责处理这些数据（ 把数据交给 CommentItem 由这个组件负责渲染 ）\n组件通讯\n\n父 -&gt; 子：props\n子 -&gt; 父：父组件通过props传递回调函数给子组件，子组件调用函数将数据作为参数传递给父组件\n兄弟组件：因为React是单向数据流，因此需要借助父组件进行传递，通过父组件回调函数改变兄弟组件的props\nReact中的状态管理： flux（提出状态管理的思想） -&gt; Redux -&gt; mobx\nVue中的状态管理： Vuex\n简单来说，就是统一管理了项目中所有的数据，让数据变的可控\n组件通讯\n\nContext特性\n\n\n注意：如果不熟悉React中的数据流，不推荐使用这个属性\n\n这是一个实验性的API，在未来的React版本中可能会被更改\n\n\n\n作用：跨级传递数据（爷爷给孙子传递数据），避免向下每层手动地传递props\n\n\n说明：需要配合PropTypes类型限制来使用\n\n\n1234567891011121314151617181920212223242526272829303132333435363738394041class Grandfather extends React.Component &#123;  // 类型限制（必须），静态属性名称固定  static childContextTypes = &#123;    color: PropTypes.string.isRequired  &#125;  // 传递给孙子组件的数据  getChildContext() &#123;    return &#123;      color: &#x27;red&#x27;    &#125;  &#125;  render() &#123;    return (      &lt;Father&gt;&lt;/Father&gt;    )  &#125;&#125;class Child extends React.Component &#123;  // 类型限制，静态属性名字固定  static contextTypes = &#123;    color: PropTypes.string  &#125;  render() &#123;    return (      // 从上下文对象中获取爷爷组件传递过来的数据      &lt;h1 style=&#123;&#123; color: this.context.color &#125;&#125;&gt;爷爷告诉文字是红色的&lt;/h1&gt;    )  &#125;&#125;class Father extends React.Component &#123;  render() &#123;    return (      &lt;Child&gt;&lt;/Child&gt;    )  &#125;&#125;\nreact-router\n\nreact router 官网\nreact router github\n安装：npm i -S react-router-dom\n\n基本概念说明\n\nRouter组件本身只是一个容器，真正的路由要通过Route组件定义\n\n使用步骤\n\n\n1 导入路由组件\n\n\n2 使用 &lt;Router&gt;&lt;/Router&gt; 作为根容器，包裹整个应用（JSX）\n\n在整个应用程序中，只需要使用一次\n\n\n\n3 使用 &lt;Link to=&quot;/movie&quot;&gt;&lt;/Link&gt; 作为链接地址，并指定to属性\n\n\n4 使用 &lt;Route path=&quot;/&quot; compoent=&#123;Movie&#125;&gt;&lt;/Route&gt; 展示路由内容\n\n\n123456789101112131415161718192021// 1 导入组件import &#123;  HashRouter as Router,  Link, Route&#125; from &#x27;react-router-dom&#x27;// 2 使用 &lt;Router&gt;&lt;Router&gt;    // 3 设置 Link    &lt;Menu.Item key=&quot;1&quot;&gt;&lt;Link to=&quot;/&quot;&gt;首页&lt;/Link&gt;&lt;/Menu.Item&gt;    &lt;Menu.Item key=&quot;2&quot;&gt;&lt;Link to=&quot;/movie&quot;&gt;电影&lt;/Link&gt;&lt;/Menu.Item&gt;    &lt;Menu.Item key=&quot;3&quot;&gt;&lt;Link to=&quot;/about&quot;&gt;关于&lt;/Link&gt;&lt;/Menu.Item&gt;    // 4 设置 Route    // exact 表示：绝对匹配（完全匹配，只匹配：/）    &lt;Route exact path=&quot;/&quot; component=&#123;HomeContainer&#125;&gt;&lt;/Route&gt;    &lt;Route path=&quot;/movie&quot; component=&#123;MovieContainer&#125;&gt;&lt;/Route&gt;    &lt;Route path=&quot;/about&quot; component=&#123;AboutContainer&#125;&gt;&lt;/Route&gt;&lt;/Router&gt;\n注意点\n\n&lt;Router&gt;&lt;/Router&gt;：作为整个组件的根元素，是路由容器，只能有一个唯一的子元素\n&lt;Link&gt;&lt;/Link&gt;：类似于vue中的&lt;router-link&gt;&lt;/router-link&gt;标签，to 属性指定路由地址\n&lt;Route&gt;&lt;/Route&gt;：类似于vue中的&lt;router-view&gt;&lt;/router-view&gt;，指定路由内容（组件）展示位置\n\n路由参数\n\n配置：通过Route中的path属性来配置路由参数\n获取：this.props.match.params 获取\n\n12345// 配置路由参数&lt;Route path=&quot;/movie/:movieType&quot;&gt;&lt;/Route&gt;// 获取路由参数const type = this.props.match.params.movieType\n路由跳转\n\nreact router - history\nhistory.push() 方法用于在JS中实现页面跳转\nhistory.go(-1) 用来实现页面的前进（1）和后退(-1)\n\n1this.props.history.push(&#x27;/movie/movieDetail/&#x27; + movieId)\nfetch\n\n作用：Fetch 是一个现代的概念, 等同于 XMLHttpRequest。它提供了许多与XMLHttpRequest相同的功能，但被设计成更具可扩展性和高效性。\nfetch() 方法返回一个Promise对象\n\nfetch 基本使用\n\nfetch Response\nfetch 介绍\n\n1234567891011121314151617/*  通过fetch请求回来的数据，是一个Promise对象.  调用then()方法，通过参数response，获取到响应对象  调用 response.json() 方法，解析服务器响应数据  再次调用then()方法，通过参数data，就获取到数据了*/fetch(&#x27;/api/movie/&#x27; + this.state.movieType)  // response.json() 读取response对象，并返回一个被解析为JSON格式的promise对象  .then((response) =&gt; response.json())  // 通过 data 获取到数据  .then((data) =&gt; &#123;    console.log(data);    this.setState(&#123;      movieList: data.subjects,      loaing: false    &#125;)  &#125;)\n跨域获取数据的三种常用方式\n\n1 JSONP\n2 代理\n3 CORS\n\nJSONP\n\n安装：npm i -S fetch-jsonp\n利用JSONP实现跨域获取数据，只能获取GET请求\nfetch-jsonp\nfetch-jsonp\n限制：1 只能发送GET请求 2 需要服务端支持JSONP请求\n\n1234/* movielist.js */fetchJsonp(&#x27;https://api.douban.com/v2/movie/in_theaters&#x27;)  .then(rep =&gt; rep.json())  .then(data =&gt; &#123; console.log(data) &#125;)\n代理\n\nwebpack-dev-server 代理配置如下：\n问题：webpack-dev-server 是开发期间使用的工具，项目上线了就不再使用 webpack-dev-server\n解决：项目上线后的代码，也是会部署到一个服务器中，这个服务器配置了代理功能即可（要求两个服务器中配置的代理规则相同）\n\n12345678910111213141516171819202122232425262728293031// webpack-dev-server的配置devServer: &#123;  // https://webpack.js.org/configuration/dev-server/#devserver-proxy  // https://github.com/chimurai/http-proxy-middleware#http-proxy-options  // http://www.jianshu.com/p/3bdff821f859  proxy: &#123;    // 使用：/api/movie/in_theaters    // 访问 ‘/api/movie/in_theaters’ ==&gt; &#x27;https://api.douban.com/v2/movie/in_theaters&#x27;    &#x27;/api&#x27;: &#123;      // 代理的目标服务器地址      target: &#x27;https://api.douban.com/v2&#x27;,      // https请求需要该设置      secure: false,      // 必须设置该项      changeOrigin: true,      // &#x27;/api/movie/in_theaters&#x27; 路径重写为：&#x27;/movie/in_theaters&#x27;      pathRewrite: &#123;&quot;^/api&quot; : &quot;&quot;&#125;    &#125;  &#125;&#125;/* movielist.js */fetch(&#x27;/api/movie/in_theaters&#x27;)  .then(function(data) &#123;    // 将服务器返回的数据转化为 json 格式    return data.json()  &#125;)  .then(function(rep) &#123;    // 获取上面格式化后的数据    console.log(rep);  &#125;)\nCORS - 服务器端配合\n\n示例：NodeJS设置跨域\n跨域资源共享 CORS 详解 - 阮一峰\n\n123456789101112// 通过Express的中间件来处理所有请求app.use(&#x27;*&#x27;, function (req, res, next) &#123;  // 设置请求头为允许跨域  res.header(&#x27;Access-Control-Allow-Origin&#x27;, &#x27;*&#x27;);  // 设置服务器支持的所有头信息字段  res.header(&#x27;Access-Control-Allow-Headers&#x27;, &#x27;Content-Type,Content-Length, Authorization,Accept,X-Requested-With&#x27;);  // 设置服务器支持的所有跨域请求的方法  res.header(&#x27;Access-Control-Allow-Methods&#x27;, &#x27;POST,GET&#x27;);  // next()方法表示进入下一个路由  next();&#125;);\nredux\n\n状态管理工具，用来管理应用中的数据\n\n核心\n\n\nAction：行为的抽象，视图中的每个用户交互都是一个action\n\n比如：点击按钮\n\n\n\nReducer：行为响应的抽象，也就是：根据action行为，执行相应的逻辑操作，更新state\n\n比如：点击按钮后，添加任务，那么，添加任务这个逻辑放到 Reducer 中\n1 创建State\n\n\n\nStore：\n\n1 Redux应用只能有一个store\n2 getState()：获取state\n3 dispatch(action)：更新state\n\n\n\n123456789/* action */// 在 redux 中，action 就是一个对象// action 必须提供一个：type属性，表示当前动作的标识// 其他的参数：表示这个动作需要用到的一些数据&#123; type: &#x27;ADD_TODO&#x27;, name: &#x27;要添加的任务名称&#x27; &#125;// 这个动作表示要切换任务状态&#123; type: &#x27;TOGGLE_TODO&#x27;, id: 1 &#125;\n123456789101112131415161718192021222324252627/* reducer */// 第一个参数：表示状态（数据），我们需要给初始状态设置默认值// 第二个参数：表示 action 行为function todo(state = [], action) &#123;  switch(action.type) &#123;    case &#x27;ADD_TODO&#x27;:      state.push(&#123; id: Math.random(), name: action.name, completed: false &#125;)      return state    case &#x27;TOGGLE_TODO&#x27;:      for(var i = 0; i &lt; state.length; i++) &#123;        if (state[i].id === action.id) &#123;          state[i].completed = !state[i].completed          break        &#125;      &#125;      return state    default:      return state  &#125;&#125;// 要执行 ADD_TODO 这个动作：dispatch( &#123; type: &#x27;ADD_TODO&#x27;, name: &#x27;要添加的任务名称&#x27; &#125; )// 内部会调用 reducertodo(undefined, &#123; type: &#x27;ADD_TODO&#x27;, name: &#x27;要添加的任务名称&#x27; &#125;)\n","dateCreated":"2024-08-15T00:11:14+08:00","dateModified":"2025-06-17T12:01:20+08:00","datePublished":"2024-08-15T00:11:14+08:00","description":"","headline":"React入门教程","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"},"publisher":{"@type":"Organization","name":"Kein Chan","sameAs":["https://github.com/chankein/","https://www.linkedin.com/profile/","mailto:kein.chan85@gmail.com"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/","keywords":"React"}</script>
    <meta name="description" content="react - JSX React 背景介绍  React 入门实例教程  React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。 什么是React   A JAVASCRIPT LIBRARY FOR BUILDING">
<meta property="og:type" content="blog">
<meta property="og:title" content="React入门教程">
<meta property="og:url" content="https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="Kein&#39;s blog">
<meta property="og:description" content="react - JSX React 背景介绍  React 入门实例教程  React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 Instagram 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。 什么是React   A JAVASCRIPT LIBRARY FOR BUILDING">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2024-08-14T16:11:14.000Z">
<meta property="article:modified_time" content="2025-06-17T04:01:20.062Z">
<meta property="article:author" content="Kein Chan">
<meta property="article:tag" content="React">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="https://chankein.github.io../../../../../assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="../../../../../assets/css/style-l9zwheso7r7pnk98nvirovsz9dl7fhkrc9mlb5vmuxw7tk5movrk0eevsrpr.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="../../../../../index.html"
            aria-label=""
        >
            Kein&#39;s blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="打開鏈接: ../../../../../#about"
            >
        
        
            <img class="header-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="../../../../../#about"
                    aria-label="閱讀有關作者的更多信息"
                >
                    <img class="sidebar-profile-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
                </a>
                <h4 class="sidebar-profile-name">Kein Chan</h4>
                
                    <h5 class="sidebar-profile-bio"><p>這是獨立全棧工程師Kein Chan的技術博客</br>分享一些技術教程,命令備忘(cheat-sheet)等</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../index.html"
                            
                            rel="noopener"
                            title="首頁"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首頁</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-categories"
                            
                            rel="noopener"
                            title="分類"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分類</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-tags"
                            
                            rel="noopener"
                            title="標籤"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">標籤</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../all-archives"
                            
                            rel="noopener"
                            title="所有文章"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">所有文章</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="搜尋"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜尋</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="關於"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">關於</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/chankein/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://www.linkedin.com/profile/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="LinkedIn"
                        >
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../mailto:kein.chan85@gmail.com"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="Email"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Email</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="../../../../../atom.xml"
                            
                            rel="noopener"
                            title="Atom"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Atom</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            React入门教程
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2024-08-15T00:11:14+08:00">
	
		    2024 年 8 月 15 日
    	
    </time>
    
        <span>分類 </span>
        
    <a class="category-link" href="../../../../../categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>, <a class="category-link" href="../../../../../categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/React/">React</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h2 id="react-JSX">react - JSX</h2>
<h3 id="React-背景介绍">React 背景介绍</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2015/03/react.html">React 入门实例教程</a></li>
</ul>
<p>React 起源于 Facebook 的内部项目，因为该公司对市场上所有 JavaScript MVC 框架，都不满意，就决定自己写一套，用来架设 <a target="_blank" rel="noopener" href="https://www.instagram.com/">Instagram</a> 的网站。做出来以后，发现这套东西很好用，就在2013年5月开源了。</p>
<h3 id="什么是React">什么是React</h3>
<ul>
<li>
<p>A JAVASCRIPT LIBRARY FOR BUILDING USER INTERFACES</p>
<ul>
<li>用来构建UI的 JavaScript库</li>
<li>React 不是一个 MVC 框架，仅仅是视图（V）层的库</li>
</ul>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://legacy.reactjs.org/">React 官网</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="https://doc.react-china.org/">React 中文文档</a></p>
</li>
</ul>
<h4 id="特点">特点</h4>
<ul>
<li>1 使用 JSX语法 创建组件，实现组件化开发，<strong>为函数式的 UI 编程方式打开了大门</strong></li>
<li>2 性能高的让人称赞：通过 <code>diff算法</code> 和 <code>虚拟DOM</code> 实现视图的高效更新</li>
<li>3 HTML仅仅是个开始</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; JSX --TO--&gt; EveryThing</span><br><span class="line"></span><br><span class="line">- JSX --&gt; HTML</span><br><span class="line">- JSX --&gt; native ios或android中的组件（XML）</span><br><span class="line">- JSX --&gt; VR</span><br><span class="line">- JSX --&gt; 物联网</span><br></pre></td></tr></table></figure>
<h3 id="为什么要用React">为什么要用React</h3>
<ul>
<li>1 使用<code>组件化</code>开发方式，符合现代Web开发的趋势</li>
<li>2 技术成熟，社区完善，配件齐全，适用于大型Web项目（生态系统健全）</li>
<li>3 由Facebook专门的团队维护，技术支持可靠</li>
<li>4 ReactNative - Learn once, write anywhere: Build mobile apps with React</li>
<li>5 使用方式简单，性能非常高，支持服务端渲染</li>
<li>6 React非常火，从技术角度，可以满足好奇心，提高技术水平；从职业角度，有利于求职和晋升，有利于参与潜力大的项目</li>
</ul>
<h3 id="React中的核心概念">React中的核心概念</h3>
<ul>
<li>1 虚拟DOM（Virtual DOM）</li>
<li>2 Diff算法（虚拟DOM的加速器，提升React性能的法宝）</li>
</ul>
<h3 id="虚拟DOM（Vitural-DOM）">虚拟DOM（Vitural DOM）</h3>
<blockquote>
<p>React将DOM抽象为虚拟DOM，虚拟DOM其实就是用一个对象来描述DOM，通过对比前后两个对象的差异，最终只把变化的部分重新渲染，提高渲染的效率</p>
<p>为什么用虚拟dom，当dom反生更改时需要遍历 而原生dom可遍历属性多大231个 且大部分与渲染无关 更新页面代价太大</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/livoras/blog/issues/13">如何实现一个 Virtual DOM 算法</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/31809713">理解 Virtual DOM</a></li>
</ul>
<h4 id="VituralDOM的处理方式">VituralDOM的处理方式</h4>
<ul>
<li>1 用 JavaScript 对象结构表示 DOM 树的结构，然后用这个树构建一个真正的 DOM 树，插到文档当中</li>
<li>2 当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异</li>
<li>3 把2所记录的差异应用到步骤1所构建的真正的DOM树上，视图就更新了</li>
</ul>
<h3 id="Diff算法">Diff算法</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://legacy.reactjs.org/docs/reconciliation.html">Reconciliation diff</a></li>
<li><a target="_blank" rel="noopener" href="https://doc.react-china.org/docs/reconciliation.html">diff算法 - 中文文档</a></li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20346379">不可思议的 react diff</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/zmmbreeze/blog/issues/9">React diff 算法</a></li>
</ul>
<blockquote>
<p>当你使用React的时候，在某个时间点 render() 函数创建了一棵React元素树，<br>
在下一个state或者props更新的时候，render() 函数将创建一棵新的React元素树，<br>
React将对比这两棵树的不同之处，计算出如何高效的更新UI（只更新变化的地方）</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 了解：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">有一些解决将一棵树转换为另一棵树的最小操作数算法问题的通用方案。然而，树中元素个数为n，最先进的算法 的时间复杂度为O(n3) 。</span></span><br><span class="line"><span class="comment">如果直接使用这个算法，在React中展示1000个元素则需要进行10亿次的比较。这操作太过昂贵，相反，React基于两点假设，实现了一个O(n)算法，提升性能： --&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>React中有两种假定：</p>
<ul>
<li>1 <strong>两个不同类型的元素会产生不同的树(根元素不同结构树一定不同)</strong></li>
<li>2 <strong>开发者可以通过key属性指定不同树中没有发生改变的子元素</strong></li>
</ul>
</li>
</ul>
<h4 id="Diff算法的说明-1">Diff算法的说明 - 1</h4>
<ul>
<li>如果两棵树的根元素类型不同，React会销毁旧树，创建新树</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧树</span></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Counter</span> /&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新树</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">Counter</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">执行过程：destory <span class="title class_">Counter</span> -&gt; insert <span class="title class_">Counter</span></span><br></pre></td></tr></table></figure>
<h4 id="Diff算法的说明-2">Diff算法的说明 - 2</h4>
<ul>
<li>对于类型相同的React DOM 元素，React会对比两者的属性是否相同，只更新不同的属性</li>
<li>当处理完这个DOM节点，React就会递归处理子节点。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧</span></span><br><span class="line">&lt;div className=<span class="string">&quot;before&quot;</span> title=<span class="string">&quot;stuff&quot;</span> /&gt;</span><br><span class="line"><span class="comment">// 新</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;after&quot;</span> <span class="attr">title</span>=<span class="string">&quot;stuff&quot;</span> /&gt;</span></span></span><br><span class="line">只更新：className 属性</span><br><span class="line"></span><br><span class="line"><span class="comment">// 旧</span></span><br><span class="line">&lt;div style=&#123;&#123;<span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span>, <span class="attr">fontWeight</span>: <span class="string">&#x27;bold&#x27;</span>&#125;&#125; /&gt;</span><br><span class="line"><span class="comment">// 新</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&#123;&#123;color:</span> &#x27;<span class="attr">green</span>&#x27;, <span class="attr">fontWeight:</span> &#x27;<span class="attr">bold</span>&#x27;&#125;&#125; /&gt;</span></span></span><br><span class="line">只更新：color属性</span><br></pre></td></tr></table></figure>
<h4 id="Diff算法的说明-3">Diff算法的说明 - 3</h4>
<ul>
<li>1 当在子节点的后面添加一个节点，这时候两棵树的转化工作执行的很好</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>first<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>second<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>first<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>second<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>third<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">执行过程：</span><br><span class="line"><span class="title class_">React</span>会匹配新旧两个&lt;li&gt;first&lt;<span class="regexp">/li&gt;，匹配两个&lt;li&gt;second&lt;/</span>li&gt;，然后添加 &lt;li&gt;third&lt;/li&gt; tree</span><br></pre></td></tr></table></figure>
<ul>
<li>2 但是如果你在开始位置插入一个元素，那么问题就来了：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Duke<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>Villanova<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Connecticut<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Duke<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>Villanova<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">在没有key属性时执行过程：</span><br><span class="line"><span class="title class_">React</span>将改变每一个子删除重新创建，而非保持 &lt;li&gt;<span class="title class_">Duke</span>&lt;<span class="regexp">/li&gt; 和 &lt;li&gt;Villanova&lt;/</span>li&gt; 不变</span><br></pre></td></tr></table></figure>
<h4 id="key-属性">key 属性</h4>
<blockquote>
<p>为了解决以上问题，React提供了一个 key 属性。当子节点带有key属性，React会通过key来匹配原始树和后来的树。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 旧</span></span><br><span class="line">&lt;ul&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&quot;2015&quot;</span>&gt;</span>Duke<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&quot;2016&quot;</span>&gt;</span>Villanova<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">&lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&quot;2014&quot;</span>&gt;</span>Connecticut<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&quot;2015&quot;</span>&gt;</span>Duke<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&quot;2016&quot;</span>&gt;</span>Villanova<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">执行过程：</span><br><span class="line">现在 <span class="title class_">React</span> 知道带有key <span class="string">&#x27;2014&#x27;</span> 的元素是新的，对于 <span class="string">&#x27;2015&#x27;</span> 和 <span class="string">&#x27;2016&#x27;</span> 仅仅移动位置即可 </span><br></pre></td></tr></table></figure>
<ul>
<li>说明：key属性在React内部使用，但不会传递给你的组件</li>
<li>推荐：在遍历数据时，推荐在组件中使用 key 属性：<code>&lt;li key=&#123;item.id&#125;&gt;&#123;item.name&#125;&lt;/li&gt;</code></li>
<li>注意：<strong>key只需要保持与他的兄弟节点唯一即可，不需要全局唯一</strong></li>
<li>注意：<strong>尽可能的减少数组index作为key，数组中插入元素的等操作时，会使得效率底下</strong></li>
</ul>
<h3 id="React的基本使用">React的基本使用</h3>
<ul>
<li>安装：<code>npm i -S react react-dom</code></li>
<li><code>react</code>：react 是React库的入口点</li>
<li><code>react-dom</code>：提供了针对DOM的方法，比如：把创建的虚拟DOM，渲染到页面上</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 react</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 创建 虚拟DOM</span></span><br><span class="line"><span class="comment">// 参数1：元素名称  参数2：元素属性对象(null表示无)  参数3：当前元素的子元素string||createElement() 的返回值</span></span><br><span class="line"><span class="keyword">const</span> divVD = <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;hello react&#x27;</span></span><br><span class="line">&#125;, <span class="string">&#x27;Hello React！！！&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 渲染</span></span><br><span class="line"><span class="comment">// 参数1：虚拟dom对象  参数2：dom对象表示渲染到哪个元素内 参数3：回调函数</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(divVD, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h4 id="createElement-的问题">createElement()的问题</h4>
<ul>
<li>说明：<code>createElement()</code>方式，代码编写不友好，太复杂</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> dv = <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">  <span class="string">&quot;div&quot;</span>,</span><br><span class="line">  &#123; <span class="attr">className</span>: <span class="string">&quot;shopping-list&quot;</span> &#125;,</span><br><span class="line">  <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">    <span class="string">&quot;h1&quot;</span>,</span><br><span class="line">    <span class="literal">null</span>,</span><br><span class="line">    <span class="string">&quot;Shopping List for &quot;</span></span><br><span class="line">  ),</span><br><span class="line">  <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">    <span class="string">&quot;ul&quot;</span>,</span><br><span class="line">    <span class="literal">null</span>,</span><br><span class="line">    <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">      <span class="string">&quot;li&quot;</span>,</span><br><span class="line">      <span class="literal">null</span>,</span><br><span class="line">      <span class="string">&quot;Instagram&quot;</span></span><br><span class="line">    ),</span><br><span class="line">    <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">      <span class="string">&quot;li&quot;</span>,</span><br><span class="line">      <span class="literal">null</span>,</span><br><span class="line">      <span class="string">&quot;WhatsApp&quot;</span></span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 渲染</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(dv, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h4 id="JSX-的基本使用">JSX 的基本使用</h4>
<ul>
<li>注意：JSX语法，最终会被编译为 createElement() 方法</li>
<li>推荐：<strong>使用 JSX 的方式创建组件</strong></li>
<li>JSX - JavaScript XML</li>
<li>安装：<code>npm i -D babel-preset-react</code> （依赖与：babel-core/babel-loader）</li>
</ul>
<blockquote>
<p>注意：JSX的语法需要通过 babel-preset-react 编译后，才能被解析执行</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 1 在 .babelrc 开启babel对 JSX 的转换 */</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;env&quot;</span>, <span class="string">&quot;react&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 2 webpack.config.js */</span></span><br><span class="line"><span class="attr">module</span>: [</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    &#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">use</span>: <span class="string">&#x27;babel-loader&#x27;</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span> &#125;,</span><br><span class="line">  ]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 3 在 js 文件中 使用 JSX */</span></span><br><span class="line"><span class="keyword">const</span> dv = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">&quot;标题&quot;</span> <span class="attr">className</span>=<span class="string">&quot;cls container&quot;</span>&gt;</span>Hello JSX!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 4 渲染 JSX 到页面中 */</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(dv, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>))</span><br></pre></td></tr></table></figure>
<h3 id="JSX的注意点">JSX的注意点</h3>
<ul>
<li>
<p>注意 1: 如果在 JSX 中给元素添加类, 需要使用 <code>className</code> 代替 class</p>
<ul>
<li>类似：label 的 for属性，使用<code>htmlFor</code>代替</li>
</ul>
</li>
<li>
<p>注意 2：在 JSX 中可以直接使用 JS代码，直接在 JSX 中通过 {} 中间写 JS代码即可</p>
</li>
<li>
<p>注意 3：在 JSX 中<strong>只能使用表达式</strong>，但是不能出现 语句！！！</p>
</li>
<li>
<p>注意 4：在 JSX 中注释语法：<code>&#123;/* 中间是注释的内容 */&#125;</code></p>
</li>
</ul>
<h3 id="React组件">React组件</h3>
<blockquote>
<p>React 组件可以让你把UI分割为独立、可复用的片段，并将每一片段视为相互独立的部分。</p>
</blockquote>
<ul>
<li>组件是由一个个的HTML元素组成的</li>
<li>概念上来讲, 组件就像JS中的函数。它们接受用户输入（<code>props</code>），并且<strong>返回</strong>一个React对象，用来描述展示在页面中的内容</li>
</ul>
<h4 id="React创建组件的两种方式">React创建组件的两种方式</h4>
<ul>
<li>1 通过 JS函数 创建（无状态组件）</li>
<li>2 通过 class 创建（有状态组件）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">函数式组件 和 class 组件的使用场景说明：</span><br><span class="line">1 如果一个组件仅仅是为了展示数据，那么此时就可以使用 函数组件</span><br><span class="line">2 如果一个组件中有一定业务逻辑，需要操作数据，那么就需要使用 class 创建组件，因为，此时需要使用 state</span><br></pre></td></tr></table></figure>
<h5 id="JavaScript函数创建">JavaScript函数创建</h5>
<ul>
<li>注意：1 函数名称必须为大写字母开头，React通过这个特点来判断是不是一个组件</li>
<li>注意：2 函数必须有返回值，返回值可以是：JSX对象或<code>null</code></li>
<li>注意：3 返回的JSX，必须有<em>一个</em>根元素</li>
<li>注意：4 组件的返回值使用<code>()</code>包裹，避免换行问题</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Welcome</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="comment">// 此处注释的写法 </span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;shopping-list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* 此处 注释的写法 必须要&#123;&#125;包裹 */&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Shopping List for &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>Instagram<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span>WhatsApp<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">&quot;jack&quot;</span> /&gt;</span></span>,</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h5 id="class创建">class创建</h5>
<blockquote>
<p>在es6中class仅仅是一个语法糖，不是真正的类，本质上还是构造函数+原型 实现继承</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6中class关键字的简单使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// - **ES6中的所有的代码都是运行在严格模式中的**</span></span><br><span class="line"><span class="comment">// - 1 它是用来定义类的，是ES6中实现面向对象编程的新方式</span></span><br><span class="line"><span class="comment">// - 2 使用`static`关键字定义静态属性</span></span><br><span class="line"><span class="comment">// - 3 使用`constructor`构造函数，创建实例属性</span></span><br><span class="line"><span class="comment">// - [参考](http://es6.ruanyifeng.com/#docs/class)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 语法：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="comment">// 实例的构造函数 constructor</span></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">age</span>)&#123;</span><br><span class="line">    <span class="comment">// 实例属性</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 在class中定义方法 此处为实例方法 通过实例打点调用</span></span><br><span class="line">  <span class="title function_">sayHello</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;大家好，我今年&#x27;</span> + <span class="variable language_">this</span>.<span class="property">age</span> + <span class="string">&#x27;了&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 静态方法 通过构造函数打点调用 Person.doudou()</span></span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">doudou</span> () &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;我是小明，我新get了一个技能，会暖床&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 添加静态属性</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="property">staticName</span> = <span class="string">&#x27;静态属性&#x27;</span></span><br><span class="line"><span class="comment">// 实例化对象</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="number">19</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">// 实现继承的方式</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">American</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 必须调用super(), super表示父类的构造函数</span></span><br><span class="line">    <span class="variable language_">super</span>()</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">skin</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">eyeColor</span> = <span class="string">&#x27;white&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建react对象</span></span><br><span class="line"><span class="comment">// 注意：基于 `ES6` 中的class，需要配合 `babel` 将代码转化为浏览器识别的ES5语法</span></span><br><span class="line"><span class="comment">// 安装：`npm i -D babel-preset-env`</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">//  react对象继承字React.Component</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ShoppingList</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123; </span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// class创建的组件中 必须有rander方法 且显示return一个react对象或者null</span></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;shopping-list&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Shopping List for &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>Instagram<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">li</span>&gt;</span>WhatsApp<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="给组件传递数据-父子组件传递数据">给组件传递数据 - 父子组件传递数据</h3>
<ul>
<li>组件中有一个 <code>只读的对象</code> 叫做 <code>props</code>，无法给props添加属性</li>
<li>获取方式：函数参数 <code>props</code></li>
<li>作用：将传递给组件的属性转化为 <code>props</code> 对象中的属性</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Welcome</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="comment">// props ---&gt; &#123; username: &#x27;zs&#x27;, age: 20 &#125;</span></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>Welcome React<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>姓名：&#123;props.username&#125;----年龄是：&#123;props.age&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 给 Hello组件 传递 props：username 和 age(如果你想要传递numb类型是数据 就需要向下面这样)</span></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">reander</span>(<span class="language-xml"><span class="tag">&lt;<span class="name">Hello</span> <span class="attr">username</span>=<span class="string">&quot;zs&quot;</span> <span class="attr">age</span>=<span class="string">&#123;20&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Hello</span>&gt;</span></span>, ......)</span><br></pre></td></tr></table></figure>
<h3 id="封装组件到独立的文件中">封装组件到独立的文件中</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建Hello2.js组件文件</span></span><br><span class="line"><span class="comment">// 1. 引入React模块</span></span><br><span class="line"><span class="comment">// 由于 JSX 编译后会调用 React.createElement 方法，所以在你的 JSX 代码中必须首先拿到React。</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 使用function构造函数创建组件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Hello2</span>(<span class="params">props</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>这是Hello2组件<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是大大的H1标签，我大，我骄傲！！！<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h6</span>&gt;</span>这是小小的h6标签，我小，我傲娇！！！<span class="tag">&lt;/<span class="name">h6</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3. 导出组件</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Hello2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// app.js中   使用组件：</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Hello2</span> <span class="keyword">from</span> <span class="string">&#x27;./components/Hello2&#x27;</span></span><br></pre></td></tr></table></figure>
<h3 id="props和state">props和state</h3>
<h4 id="props">props</h4>
<ul>
<li>
<p>作用：<strong>给组件传递数据，一般用在父子组件之间</strong></p>
</li>
<li>
<p>说明：React把传递给组件的属性转化为一个对象并交给 <code>props</code></p>
</li>
<li>
<p>特点：<code>props</code>是只读的，无法给<code>props</code>添加或修改属性</p>
</li>
<li>
<p><code>props.children</code>：获取组件的内容，比如：</p>
<ul>
<li><code>&lt;Hello&gt;组件内容&lt;/Hello&gt;</code> 中的 <code>组件内容</code></li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// props 是一个包含数据的对象参数，不要试图修改 props 参数</span></span><br><span class="line"><span class="comment">// 返回值：react元素</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Welcome</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="comment">// 返回的 react元素中必须只有一个根元素</span></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Welcome</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;this.props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="state">state</h4>
<blockquote>
<p>状态即数据</p>
</blockquote>
<ul>
<li>
<p>作用：用来给组件提供<code>组件内部</code>使用的数据</p>
</li>
<li>
<p>注意：只有通过<code>class</code>创建的组件才具有状态</p>
</li>
<li>
<p>注意：<strong>状态是私有的，完全由组件来控制</strong></p>
</li>
<li>
<p>注意：不要在 <code>state</code> 中添加 <code>render()</code> 方法中不需要的数据，会影响渲染性能！</p>
<ul>
<li>可以将组件内部使用但是不渲染在视图中的内容，直接添加给 this</li>
</ul>
</li>
<li>
<p>注意：不要在 <code>render()</code> 方法中调用 setState() 方法来修改<code>state</code>的值</p>
<ul>
<li>但是可以通过 <code>this.state.name = 'rose'</code> 方式设置state（不推荐!!!）</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 例：</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Hello</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// es6继承必须用super调用父类的constructor</span></span><br><span class="line">    <span class="variable language_">super</span>()</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">gender</span>: <span class="string">&#x27;male&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>性别：&#123; this.state.gender &#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JSX语法转化过程">JSX语法转化过程</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1、JSX</span></span><br><span class="line"><span class="keyword">const</span> element = (</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">className</span>=<span class="string">&quot;greeting&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    Hello, world!</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2、JSX -&gt; createElement</span></span><br><span class="line"><span class="keyword">const</span> element = <span class="title class_">React</span>.<span class="title function_">createElement</span>(</span><br><span class="line">  <span class="string">&#x27;h1&#x27;</span>,</span><br><span class="line">  &#123;<span class="attr">className</span>: <span class="string">&#x27;greeting&#x27;</span>&#125;,</span><br><span class="line">  <span class="string">&#x27;Hello, world!&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// React elements: 使用对象的形式描述页面结构</span></span><br><span class="line"><span class="comment">// Note: 这是简化后的对象结构</span></span><br><span class="line"><span class="keyword">const</span> element = &#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;h1&#x27;</span>,</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="attr">className</span>: <span class="string">&#x27;greeting&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">children</span>: [<span class="string">&#x27;Hello, world&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="评论列表案例">评论列表案例</h3>
<ul>
<li>巩固有状态组件和无状态组件的使用</li>
<li>两个组件：<code>&lt;CommentList&gt;&lt;/CommentList&gt;</code> 和 <code>&lt;Comment&gt;&lt;/Comment&gt;</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">&#x27;张三&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;哈哈，沙发&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">&#x27;张三2&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;哈哈，板凳&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">&#x27;张三3&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;哈哈，凉席&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">&#x27;张三4&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;哈哈，砖头&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">user</span>: <span class="string">&#x27;张三5&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;哈哈，楼下山炮&#x27;</span> &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 属性扩展</span></span><br><span class="line">&lt;<span class="title class_">Comment</span> &#123;...item&#125; key=&#123;i&#125;&gt;&lt;/<span class="title class_">Comment</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="style样式">style样式</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 直接写行内样式：</span></span><br><span class="line">&lt;li style=&#123;&#123;<span class="attr">border</span>:<span class="string">&#x27;1px solid red&#x27;</span>, <span class="attr">fontSize</span>:<span class="string">&#x27;12px&#x27;</span>&#125;&#125;&gt;&lt;/li&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 抽离为对象形式</span></span><br><span class="line"><span class="keyword">var</span> styleH3 = &#123;<span class="attr">color</span>:<span class="string">&#x27;blue&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">var</span> styleObj = &#123;</span><br><span class="line">  <span class="attr">liStyle</span>:&#123;<span class="attr">border</span>:<span class="string">&#x27;1px solid red&#x27;</span>, <span class="attr">fontSize</span>:<span class="string">&#x27;12px&#x27;</span>&#125;,</span><br><span class="line">  <span class="attr">h3Style</span>:&#123;<span class="attr">color</span>:<span class="string">&#x27;green&#x27;</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;li style=&#123;styleObj.<span class="property">liStyle</span>&#125;&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">h3</span> <span class="attr">style</span>=<span class="string">&#123;styleObj.h3Style&#125;</span>&gt;</span>评论内容：&#123;props.content&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line">&lt;/li&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 使用样式表定义样式：</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;../css/comment.css&#x27;</span></span><br><span class="line">&lt;p className=<span class="string">&quot;pUser&quot;</span>&gt;评论人：&#123;props.<span class="property">user</span>&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure>
<h3 id="相关文章">相关文章</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/tim100/p/6050514.html">React数据流和组件间的沟通总结</a></li>
<li><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/29504639?sort=created">怎么更好的理解虚拟DOM?</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/yczz/article/details/49886061">React 源码剖析系列 － 不可思议的 react diff</a></li>
<li><a target="_blank" rel="noopener" href="https://www.infoq.cn/article/react-dom-diff/?from=timeline&amp;isappinstalled=0">深入浅出React（四）：虚拟DOM Diff算法解析</a></li>
</ul>
<h3 id="组件的生命周期">组件的生命周期</h3>
<ul>
<li>简单说：<strong>一个组件从开始到最后消亡所经历的各种状态，就是一个组件的生命周期</strong></li>
</ul>
<p>组件生命周期函数的定义：从组件被创建，到组件挂载到页面上运行，再到页面关闭组件被卸载，这三个阶段总是伴随着组件各种各样的事件，那么这些事件，统称为组件的生命周期函数！</p>
<ul>
<li>通过这个函数，能够让开发人员的代码，参与到组件的生命周期中。也就是说，通过钩子函数，就可以控制组件的行为</li>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20312691?refer=purerender">React 生命周期的管理艺术</a></li>
</ul>
<h4 id="组件生命周期函数总览">组件生命周期函数总览</h4>
<ul>
<li>组件的生命周期包含三个阶段：创建阶段（Mounting）、运行和交互阶段（Updating）、卸载阶段（Unmounting）</li>
<li>Mounting：</li>
</ul>
<blockquote>
<p>constructor()<br>
componentWillMount()<br>
render()<br>
componentDidMount()</p>
</blockquote>
<ul>
<li>Updating</li>
</ul>
<blockquote>
<p>componentWillReceiveProps()<br>
shouldComponentUpdate()<br>
componentWillUpdate()<br>
render()<br>
componentDidUpdate()</p>
</blockquote>
<ul>
<li>Unmounting</li>
</ul>
<blockquote>
<p>componentWillUnmount()</p>
</blockquote>
<h4 id="组件生命周期-创建阶段-Mounting">组件生命周期 - 创建阶段(Mounting)</h4>
<ul>
<li>特点：该阶段的函数只执行一次</li>
</ul>
<h5 id="constructor">constructor()</h5>
<ul>
<li>作用：1 获取props 2 初始化state</li>
<li>说明：通过 <code>constructor()</code> 的参数<code>props</code>获取</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Greeting</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取 props</span></span><br><span class="line">    <span class="variable language_">super</span>(props)</span><br><span class="line">    <span class="comment">// 初始化 state</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">      <span class="attr">count</span>: props.<span class="property">initCount</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 初始化 props</span></span><br><span class="line"><span class="comment">// 语法：通过静态属性 defaultProps 来初始化props</span></span><br><span class="line"><span class="title class_">Greeting</span>.<span class="property">defaultProps</span> = &#123;</span><br><span class="line">  <span class="attr">initCount</span>: <span class="number">0</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="componentWillMount">componentWillMount()</h5>
<ul>
<li>说明：组件被挂载到页面之前调用，其在render()之前被调用，因此在这方法里<code>同步</code>地设置状态将不会触发重渲染</li>
<li>注意：无法获取页面中的DOM对象</li>
<li>注意：可以调用 <code>setState()</code> 方法来改变状态值</li>
<li>用途：发送ajax请求获取数据</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)) <span class="comment">// null</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="render">render()</h5>
<ul>
<li>
<p>作用：渲染组件到页面中，无法获取页面中的DOM对象</p>
</li>
<li>
<p>注意：<strong>不要在render方法中调用 <code>setState()</code> 方法，否则会递归渲染</strong></p>
<ul>
<li>原因说明：状态改变会重新调用<code>render()</code>，<code>render()</code>又重新改变状态</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)) <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleAdd&#125;</span>&gt;</span>打豆豆一次<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;</span></span><br><span class="line"><span class="language-xml">        this.state.count === 4</span></span><br><span class="line"><span class="language-xml">        ? null</span></span><br><span class="line"><span class="language-xml">        : <span class="tag">&lt;<span class="name">CounterChild</span> <span class="attr">initCount</span>=<span class="string">&#123;this.state.count&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">CounterChild</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="componentDidMount">componentDidMount()</h5>
<ul>
<li>1 组件已经挂载到页面中</li>
<li>2 可以进行DOM操作，比如：获取到组件内部的DOM对象</li>
<li>3 可以<strong>发送请求</strong>获取数据</li>
<li>4 可以通过 <code>setState()</code> 修改状态的值</li>
<li>注意：在这里修改状态会重新渲染</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 此时，就可以获取到组件内部的DOM对象</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;componentDidMount&#x27;</span>, <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="组件生命周期-运行阶段（Updating）">组件生命周期 - 运行阶段（Updating）</h4>
<ul>
<li>特点：该阶段的函数执行多次</li>
<li>说明：每当组件的<code>props</code>或者<code>state</code>改变的时候，都会触发运行阶段的函数</li>
</ul>
<h5 id="componentWillReceiveProps">componentWillReceiveProps()</h5>
<ul>
<li>说明：组件接受到新的<code>props</code>前触发这个方法</li>
<li>参数：当前组件<code>props</code>值</li>
<li>可以通过 <code>this.props</code> 获取到上一次的值</li>
<li>使用：若你需要响应属性的改变，可以通过对比<code>this.props</code>和<code>nextProps</code>并在该方法中使用<code>this.setState()</code>处理状态改变</li>
<li>注意：修改<code>state</code>不会触发该方法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillReceiveProps</span>(<span class="params">nextProps</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;componentWillReceiveProps&#x27;</span>, nextProps)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="shouldComponentUpdate">shouldComponentUpdate()</h5>
<ul>
<li>作用：根据这个方法的返回值决定是否重新渲染组件，返回<code>true</code>重新渲染，否则不渲染</li>
<li>优势：通过某个条件渲染组件，降低组件渲染频率，提升组件性能</li>
<li>说明：如果返回值为<code>false</code>，那么，后续<code>render()</code>方法不会被调用</li>
<li>注意：<strong>这个方法必须返回布尔值！！！</strong></li>
<li>场景：根据随机数决定是否渲染组件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// - 参数：</span></span><br><span class="line"><span class="comment">//   - 第一个参数：最新属性对象</span></span><br><span class="line"><span class="comment">//   - 第二个参数：最新状态对象</span></span><br><span class="line"><span class="title function_">shouldComponentUpdate</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;shouldComponentUpdate&#x27;</span>, nextProps, nextState)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> nextState.<span class="property">count</span> % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="componentWillUpdate">componentWillUpdate()</h5>
<ul>
<li>作用：组件将要更新</li>
<li>参数：最新的属性和状态对象</li>
<li>注意：不能修改状态 否则会循环渲染</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentWillUpdate</span>(<span class="params">nextProps, nextState</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;componentWillUpdate&#x27;</span>, nextProps, nextState)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="render-渲染">render() 渲染</h5>
<ul>
<li>作用：重新渲染组件，与<code>Mounting</code>阶段的<code>render</code>是同一个函数</li>
<li>注意：这个函数能够执行多次，只要组件的属性或状态改变了，这个方法就会重新执行</li>
</ul>
<h5 id="componentDidUpdate">componentDidUpdate()</h5>
<ul>
<li>作用：组件已经被更新</li>
<li>参数：旧的属性和状态对象</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">componentDidUpdate</span>(<span class="params">prevProps, prevState</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">&#x27;componentDidUpdate&#x27;</span>, prevProps, prevState)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="组件生命周期-卸载阶段（Unmounting）">组件生命周期 - 卸载阶段（Unmounting）</h4>
<ul>
<li>组件销毁阶段：组件卸载期间，函数比较单一，只有一个函数，这个函数也有一个显著的特点：组件一辈子只能执行依次！</li>
<li>使用说明：只要组件不再被渲染到页面中，那么这个方法就会被调用（ 渲染到页面中 -&gt; 不再渲染到页面中 ）</li>
</ul>
<h5 id="componentWillUnmount">componentWillUnmount()</h5>
<ul>
<li>
<p>作用：在卸载组件的时候，执行清理工作，比如</p>
<ul>
<li>1 清除定时器</li>
<li>2 清除<code>componentDidMount</code>创建的DOM对象</li>
</ul>
</li>
</ul>
<hr>
<h3 id="React-createClass（不推荐）">React - createClass（不推荐）</h3>
<ul>
<li><strong><code>React.createClass(&#123;&#125;)</code> 方式，创建有状态组件，该方式已经被废弃！！！</strong></li>
<li>通过导入 <code>require('create-react-class')</code>，可以在不适用ES6的情况下，创建有状态组件</li>
<li>getDefaultProps() 和 getInitialState() 方法：是 <code>createReactClass()</code> 方式创建组件中的两个函数</li>
<li><a target="_blank" rel="noopener" href="https://legacy.reactjs.org/docs/react-without-es6.html#declaring-default-props">React without ES6</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> createReactClass = <span class="built_in">require</span>(<span class="string">&#x27;create-react-class&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Greeting</span> = <span class="title function_">createReactClass</span>(&#123;</span><br><span class="line">  <span class="comment">// 初始化 props</span></span><br><span class="line">  <span class="attr">getDefaultProps</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;getDefaultProps&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>: <span class="string">&#x27;Basic counter!!!&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 初始化 state</span></span><br><span class="line">  <span class="attr">getInitialState</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;getInitialState&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">count</span>: <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">render</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;render&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.props.title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;this.state.count&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&#x27;button&#x27;</span> <span class="attr">value</span>=<span class="string">&#x27;+&#x27;</span> <span class="attr">onClick</span>=<span class="string">&#123;this.handleIncrement&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">handleIncrement</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> newCount = <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;<span class="attr">count</span>: newCount&#125;);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="attr">propTypes</span>: &#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="title class_">React</span>.<span class="property">PropTypes</span>.<span class="property">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="title class_">ReactDOM</span>.<span class="title function_">render</span>(</span><br><span class="line">  <span class="title class_">React</span>.<span class="title function_">createElement</span>(<span class="title class_">Greeting</span>),</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;app&#x27;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="state和setState">state和setState</h3>
<ul>
<li>注意：使用 <code>setState()</code> 方法修改状态，状态改变后，React会重新渲染组件</li>
<li>注意：不要直接修改state属性的值，这样不会重新渲染组件！！！</li>
<li>使用：1 初始化state 2 setState修改state</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 修改state（不推荐使用）</span></span><br><span class="line"><span class="comment">// https://facebook.github.io/react/docs/state-and-lifecycle.html#do-not-modify-state-directly</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">test</span> = <span class="string">&#x27;这样方式，不会重新渲染组件&#x27;</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params">props</span>) &#123;</span><br><span class="line">  <span class="variable language_">super</span>(props)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 正确姿势！！！</span></span><br><span class="line">  <span class="comment">// -------------- 初始化 state --------------</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">state</span> = &#123;</span><br><span class="line">    <span class="attr">count</span>: props.<span class="property">initCount</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">componentWillMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// -------------- 修改 state 的值 --------------</span></span><br><span class="line">  <span class="comment">// 方式一：</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">count</span>: <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">  &#125;, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// 由于 setState() 是异步操作，所以，如果想立即获取修改后的state</span></span><br><span class="line">    <span class="comment">// 需要在回调函数中获取</span></span><br><span class="line">    <span class="comment">// https://doc.react-china.org/docs/react-component.html#setstate</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 方式二：</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="keyword">function</span>(<span class="params">prevState, props</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">counter</span>: prevState.<span class="property">counter</span> + props.<span class="property">increment</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 或者 - 注意： =&gt; 后面需要带有小括号，因为返回的是一个对象</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(<span class="function">(<span class="params">prevState, props</span>) =&gt;</span> (&#123;</span><br><span class="line">    <span class="attr">counter</span>: prevState.<span class="property">counter</span> + props.<span class="property">increment</span></span><br><span class="line">  &#125;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="组件绑定事件">组件绑定事件</h3>
<ul>
<li>
<p>1 通过React事件机制 <code>onClick</code> 绑定</p>
</li>
<li>
<p>2 JS原生方式绑定（通过 <code>ref</code> 获取元素）</p>
<ul>
<li>注意：<code>ref</code> 是React提供的一个特殊属性</li>
<li><code>ref</code>的使用说明</li>
</ul>
</li>
</ul>
<h4 id="React中的事件机制-推荐">React中的事件机制 - 推荐</h4>
<ul>
<li>注意：事件名称采用驼峰命名法</li>
<li>例如：<code>onClick</code> 用来绑定单击事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;触发单击事件&quot;</span></span><br><span class="line">  onClick=&#123;<span class="variable language_">this</span>.<span class="property">handleCountAdd</span>&#125;</span><br><span class="line">  onMouseEnter=&#123;<span class="variable language_">this</span>.<span class="property">handleMouseEnter</span>&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<h4 id="JS原生方式-知道即可">JS原生方式 - 知道即可</h4>
<ul>
<li>说明：给元素添加 <code>ref</code> 属性，然后，获取元素绑定事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JSX</span></span><br><span class="line"><span class="comment">// 将当前DOM的引用赋值给 this.txtInput 属性</span></span><br><span class="line">&lt;input ref=&#123; <span class="function"><span class="params">input</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">txtInput</span> = input &#125; type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;我是豆豆&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="title function_">componentDidMount</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 通过 this.txtInput 属性获取元素绑定事件</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">txtInput</span>.<span class="title function_">addEventListener</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">count</span>:<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">count</span> + <span class="number">1</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="事件绑定中的this">事件绑定中的this</h3>
<ul>
<li>1 通过 <code>bind</code> 绑定</li>
<li>2 通过 <code>箭头函数</code> 绑定</li>
</ul>
<h4 id="通过bind绑定">通过bind绑定</h4>
<ul>
<li>原理：<code>bind</code>能够调用函数，改变函数内部this的指向，并返回一个新函数</li>
<li>说明：<code>bind</code>第一个参数为返回函数中this的指向，后面的参数为传给返回函数的参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义方法：</span></span><br><span class="line"><span class="title function_">handleBtnClick</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;点击事件修改state的值&#x27;</span> + arg1 + arg2</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        // <span class="attr">无参数</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        // <span class="attr">this.handleBtnClick.bind</span>(<span class="attr">this</span>)</span></span></span><br><span class="line"><span class="tag"><span class="language-xml"></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        // <span class="attr">有参数</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">this.handleBtnClick.bind</span>(<span class="attr">this</span>, &#x27;<span class="attr">abc</span>&#x27;, [<span class="attr">1</span>, <span class="attr">2</span>])</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      &#125;&gt;</span>事件中this的处理<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;this.state.msg&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在构造函数中使用<code>bind</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">super</span>()</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">handleBtnClick</span> = <span class="variable language_">this</span>.<span class="property">handleBtnClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// render() 方法中：</span></span><br><span class="line">&lt;button onClick=&#123; <span class="variable language_">this</span>.<span class="property">handleBtnClick</span> &#125;&gt;事件中<span class="variable language_">this</span>的处理&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<h4 id="通过箭头函数绑定">通过箭头函数绑定</h4>
<ul>
<li>原理：<code>箭头函数</code>中的this由所处的环境决定，自身不绑定this</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;在构造函数中绑定this并传参&quot;</span> onClick=&#123;</span><br><span class="line">  <span class="function">() =&gt;</span> &#123; <span class="variable language_">this</span>.<span class="title function_">handleBtnClick</span>(<span class="string">&#x27;参数1&#x27;</span>, <span class="string">&#x27;参数2&#x27;</span>) &#125;</span><br><span class="line">&#125; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="title function_">handleBtnClick</span>(<span class="params">arg1, arg2</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: <span class="string">&#x27;在构造函数中绑定this并传参&#x27;</span> + arg1 + arg2</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="受控组件">受控组件</h3>
<ul>
<li>表单和受控组件</li>
<li>非受控组件</li>
</ul>
<blockquote>
<p>在HTML当中，像<code>input</code>,<code>textarea</code>和<code>select</code>这类表单元素会维持自身状态，并根据用户输入进行更新。<br>
在React中，可变的状态通常保存在组件的<code>state</code>中，并且只能用 <code>setState()</code> 方法进行更新.<br>
React根据初始状态渲染表单组件，接受用户后续输入，改变表单组件内部的状态。<br>
因此，将那些值由React控制的表单元素称为：受控组件。</p>
</blockquote>
<ul>
<li>
<p>受控组件的特点：</p>
<ul>
<li>1 表单元素</li>
<li>2 由React通过JSX渲染出来</li>
<li>3 由React控制值的改变，也就是说想要改变元素的值，只能通过React提供的方法来修改</li>
</ul>
</li>
<li>
<p>注意：<strong>只能通过setState来设置受控组件的值</strong></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模拟实现文本框数据的双向绑定</span></span><br><span class="line">&lt;input type=<span class="string">&quot;text&quot;</span> value=&#123;<span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">msg</span>&#125; onChange=&#123;<span class="variable language_">this</span>.<span class="property">handleTextChange</span>&#125;/&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 当文本框内容改变的时候，触发这个事件，重新给state赋值</span></span><br><span class="line">handleTextChange = <span class="function"><span class="params">event</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">target</span>.<span class="property">value</span>)</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">    <span class="attr">msg</span>: event.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="评论列表案例-2">评论列表案例</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&#x27;小明&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;沙发！！！&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&#x27;小红&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;小明，居然是你&#x27;</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">name</span>: <span class="string">&#x27;小刚&#x27;</span>, <span class="attr">content</span>: <span class="string">&#x27;小明，放学你别走！！！&#x27;</span>&#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="props校验">props校验</h3>
<ul>
<li>作用：通过类型检查，提高程序的稳定性</li>
<li>命令：<code>npm i -S prop-types</code></li>
<li>使用：给类提供一个静态属性 <code>propTypes</code>（对象），来约束<code>props</code></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入模块</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PropTypes</span> <span class="keyword">from</span> <span class="string">&#x27;prop-types&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ...以下代码是类的静态属性：</span></span><br><span class="line"><span class="comment">// propTypes 静态属性的名称是固定的！！！</span></span><br><span class="line"><span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">  <span class="attr">initCount</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>, <span class="comment">// 规定属性的类型</span></span><br><span class="line">  <span class="attr">initAge</span>: <span class="title class_">PropTypes</span>.<span class="property">number</span>.<span class="property">isRequired</span> <span class="comment">// 规定属性的类型，且规定为必传字段</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="React-单向数据流">React 单向数据流</h3>
<ul>
<li><strong>React 中采用单项数据流</strong></li>
<li>数据流动方向：自上而下，也就是只能由父组件传递到子组件</li>
<li>数据都是由父组件提供的，子组件想要使用数据，都是从父组件中获取的</li>
<li>如果多个组件都要使用某个数据，最好将这部分共享的状态提升至他们最近的父组件当中进行管理</li>
<li>单向数据流</li>
<li>状态提升</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">react中的单向数据流动：</span><br><span class="line">1 数据应该是从上往下流动的，也就是由父组件将数据传递给子组件</span><br><span class="line">2 数据应该是由父组件提供，子组件要使用数据的时候，直接从子组件中获取</span><br><span class="line"></span><br><span class="line">在我们的评论列表案例中：数据是由CommentList组件（父组件）提供的</span><br><span class="line">子组件 CommentItem 负责渲染评论列表，数据是由 父组件提供的</span><br><span class="line">子组件 CommentForm 负责获取用户输入的评论内容，最终也是把用户名和评论内容传递给了父组件，由父组件负责处理这些数据（ 把数据交给 CommentItem 由这个组件负责渲染 ）</span><br></pre></td></tr></table></figure>
<h4 id="组件通讯">组件通讯</h4>
<ul>
<li>父 -&gt; 子：<code>props</code></li>
<li>子 -&gt; 父：父组件通过props传递回调函数给子组件，子组件调用函数将数据作为参数传递给父组件</li>
<li>兄弟组件：因为React是单向数据流，因此需要借助父组件进行传递，通过父组件回调函数改变兄弟组件的props</li>
<li>React中的状态管理： flux（提出状态管理的思想） -&gt; Redux -&gt; mobx</li>
<li>Vue中的状态管理： Vuex</li>
<li>简单来说，就是统一管理了项目中所有的数据，让数据变的可控</li>
<li><a href="https://chankein.github.io/2024/08/17/react/React-%E7%BB%84%E4%BB%B6%E6%95%B0%E6%8D%AE%E6%B5%81-%E7%BB%84%E4%BB%B6%E9%97%B4%E6%B2%9F%E9%80%9A/">组件通讯</a></li>
</ul>
<h4 id="Context特性">Context特性</h4>
<ul>
<li>
<p>注意：<strong>如果不熟悉React中的数据流，不推荐使用这个属性</strong></p>
<ul>
<li>这是一个实验性的API，在未来的React版本中可能会被更改</li>
</ul>
</li>
<li>
<p>作用：跨级传递数据（爷爷给孙子传递数据），避免向下每层手动地传递<code>props</code></p>
</li>
<li>
<p>说明：需要配合<code>PropTypes</code>类型限制来使用</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Grandfather</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// 类型限制（必须），静态属性名称固定</span></span><br><span class="line">  <span class="keyword">static</span> childContextTypes = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span>.<span class="property">isRequired</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 传递给孙子组件的数据</span></span><br><span class="line">  <span class="title function_">getChildContext</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">color</span>: <span class="string">&#x27;red&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Father</span>&gt;</span><span class="tag">&lt;/<span class="name">Father</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="comment">// 类型限制，静态属性名字固定</span></span><br><span class="line">  <span class="keyword">static</span> contextTypes = &#123;</span><br><span class="line">    <span class="attr">color</span>: <span class="title class_">PropTypes</span>.<span class="property">string</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="comment">// 从上下文对象中获取爷爷组件传递过来的数据</span></span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">style</span>=<span class="string">&#123;&#123;</span> <span class="attr">color:</span> <span class="attr">this.context.color</span> &#125;&#125;&gt;</span>爷爷告诉文字是红色的<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">extends</span> <span class="title class_ inherited__">React.Component</span> &#123;</span><br><span class="line">  <span class="title function_">render</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="language-xml"><span class="tag">&lt;<span class="name">Child</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="react-router">react-router</h3>
<ul>
<li><a target="_blank" rel="noopener" href="https://reacttraining.com/react-router">react router 官网</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/remix-run/react-router">react router github</a></li>
<li>安装：<code>npm i -S react-router-dom</code></li>
</ul>
<h4 id="基本概念说明">基本概念说明</h4>
<ul>
<li><code>Router</code>组件本身只是一个容器，真正的路由要通过<code>Route组件</code>定义</li>
</ul>
<h4 id="使用步骤">使用步骤</h4>
<ul>
<li>
<p>1 导入路由组件</p>
</li>
<li>
<p>2 使用 <code>&lt;Router&gt;&lt;/Router&gt;</code> 作为根容器，包裹整个应用（JSX）</p>
<ul>
<li>在整个应用程序中，只需要使用一次</li>
</ul>
</li>
<li>
<p>3 使用 <code>&lt;Link to=&quot;/movie&quot;&gt;&lt;/Link&gt;</code> 作为链接地址，并指定<code>to</code>属性</p>
</li>
<li>
<p>4 使用 <code>&lt;Route path=&quot;/&quot; compoent=&#123;Movie&#125;&gt;&lt;/Route&gt;</code> 展示路由内容</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1 导入组件</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  <span class="title class_">HashRouter</span> <span class="keyword">as</span> <span class="title class_">Router</span>,</span><br><span class="line">  <span class="title class_">Link</span>, <span class="title class_">Route</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;react-router-dom&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 使用 &lt;Router&gt;</span></span><br><span class="line">&lt;<span class="title class_">Router</span>&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3 设置 Link</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Menu.Item</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">Link</span>&gt;</span><span class="tag">&lt;/<span class="name">Menu.Item</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Menu.Item</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/movie&quot;</span>&gt;</span>电影<span class="tag">&lt;/<span class="name">Link</span>&gt;</span><span class="tag">&lt;/<span class="name">Menu.Item</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Menu.Item</span> <span class="attr">key</span>=<span class="string">&quot;3&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&quot;/about&quot;</span>&gt;</span>关于<span class="tag">&lt;/<span class="name">Link</span>&gt;</span><span class="tag">&lt;/<span class="name">Menu.Item</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4 设置 Route</span></span><br><span class="line">    <span class="comment">// exact 表示：绝对匹配（完全匹配，只匹配：/）</span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">&quot;/&quot;</span> <span class="attr">component</span>=<span class="string">&#123;HomeContainer&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/movie&quot;</span> <span class="attr">component</span>=<span class="string">&#123;MovieContainer&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&quot;/about&quot;</span> <span class="attr">component</span>=<span class="string">&#123;AboutContainer&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;/<span class="title class_">Router</span>&gt;</span><br></pre></td></tr></table></figure>
<h4 id="注意点">注意点</h4>
<ul>
<li><code>&lt;Router&gt;&lt;/Router&gt;</code>：作为整个组件的根元素，是路由容器，只能有一个唯一的子元素</li>
<li><code>&lt;Link&gt;&lt;/Link&gt;</code>：类似于vue中的<code>&lt;router-link&gt;&lt;/router-link&gt;</code>标签，<code>to</code> 属性指定路由地址</li>
<li><code>&lt;Route&gt;&lt;/Route&gt;</code>：类似于vue中的<code>&lt;router-view&gt;&lt;/router-view&gt;</code>，指定路由内容（组件）展示位置</li>
</ul>
<h4 id="路由参数">路由参数</h4>
<ul>
<li>配置：通过<code>Route</code>中的path属性来配置路由参数</li>
<li>获取：<code>this.props.match.params</code> 获取</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 配置路由参数</span></span><br><span class="line">&lt;<span class="title class_">Route</span> path=<span class="string">&quot;/movie/:movieType&quot;</span>&gt;&lt;/<span class="title class_">Route</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取路由参数</span></span><br><span class="line"><span class="keyword">const</span> type = <span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">match</span>.<span class="property">params</span>.<span class="property">movieType</span></span><br></pre></td></tr></table></figure>
<h4 id="路由跳转">路由跳转</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://reacttraining.com/react-router/web/api/history">react router - history</a></li>
<li><code>history.push()</code> 方法用于在JS中实现页面跳转</li>
<li><code>history.go(-1)</code> 用来实现页面的前进（1）和后退(-1)</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="property">props</span>.<span class="property">history</span>.<span class="title function_">push</span>(<span class="string">&#x27;/movie/movieDetail/&#x27;</span> + movieId)</span><br></pre></td></tr></table></figure>
<h3 id="fetch">fetch</h3>
<ul>
<li>作用：Fetch 是一个现代的概念, 等同于 XMLHttpRequest。它提供了许多与XMLHttpRequest相同的功能，但被设计成更具可扩展性和高效性。</li>
<li><code>fetch()</code> 方法返回一个<code>Promise</code>对象</li>
</ul>
<h4 id="fetch-基本使用">fetch 基本使用</h4>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/Response">fetch Response</a></li>
<li><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ccf99a12faf1">fetch 介绍</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">  通过fetch请求回来的数据，是一个Promise对象.</span></span><br><span class="line"><span class="comment">  调用then()方法，通过参数response，获取到响应对象</span></span><br><span class="line"><span class="comment">  调用 response.json() 方法，解析服务器响应数据</span></span><br><span class="line"><span class="comment">  再次调用then()方法，通过参数data，就获取到数据了</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;/api/movie/&#x27;</span> + <span class="variable language_">this</span>.<span class="property">state</span>.<span class="property">movieType</span>)</span><br><span class="line">  <span class="comment">// response.json() 读取response对象，并返回一个被解析为JSON格式的promise对象</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">response</span>) =&gt;</span> response.<span class="title function_">json</span>())</span><br><span class="line">  <span class="comment">// 通过 data 获取到数据</span></span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setState</span>(&#123;</span><br><span class="line">      <span class="attr">movieList</span>: data.<span class="property">subjects</span>,</span><br><span class="line">      <span class="attr">loaing</span>: <span class="literal">false</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="跨域获取数据的三种常用方式">跨域获取数据的三种常用方式</h3>
<ul>
<li>1 JSONP</li>
<li>2 代理</li>
<li>3 CORS</li>
</ul>
<h4 id="JSONP">JSONP</h4>
<ul>
<li>安装：<code>npm i -S fetch-jsonp</code></li>
<li>利用<code>JSONP</code>实现跨域获取数据，只能获取GET请求</li>
<li><code>fetch-jsonp</code></li>
<li><a href="hhttps://github.com/camsong/fetch-jsonp">fetch-jsonp</a></li>
<li>限制：1 只能发送GET请求 2 需要服务端支持JSONP请求</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* movielist.js */</span></span><br><span class="line"><span class="title function_">fetchJsonp</span>(<span class="string">&#x27;https://api.douban.com/v2/movie/in_theaters&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">rep</span> =&gt;</span> rep.<span class="title function_">json</span>())</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(data) &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="代理">代理</h4>
<ul>
<li><code>webpack-dev-server</code> 代理配置如下：</li>
<li>问题：webpack-dev-server 是开发期间使用的工具，项目上线了就不再使用 webpack-dev-server</li>
<li>解决：项目上线后的代码，也是会部署到一个服务器中，这个服务器配置了代理功能即可（要求两个服务器中配置的代理规则相同）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack-dev-server的配置</span></span><br><span class="line"><span class="attr">devServer</span>: &#123;</span><br><span class="line">  <span class="comment">// https://webpack.js.org/configuration/dev-server/#devserver-proxy</span></span><br><span class="line">  <span class="comment">// https://github.com/chimurai/http-proxy-middleware#http-proxy-options</span></span><br><span class="line">  <span class="comment">// http://www.jianshu.com/p/3bdff821f859</span></span><br><span class="line">  <span class="attr">proxy</span>: &#123;</span><br><span class="line">    <span class="comment">// 使用：/api/movie/in_theaters</span></span><br><span class="line">    <span class="comment">// 访问 ‘/api/movie/in_theaters’ ==&gt; &#x27;https://api.douban.com/v2/movie/in_theaters&#x27;</span></span><br><span class="line">    <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">      <span class="comment">// 代理的目标服务器地址</span></span><br><span class="line">      <span class="attr">target</span>: <span class="string">&#x27;https://api.douban.com/v2&#x27;</span>,</span><br><span class="line">      <span class="comment">// https请求需要该设置</span></span><br><span class="line">      <span class="attr">secure</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="comment">// 必须设置该项</span></span><br><span class="line">      <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="comment">// &#x27;/api/movie/in_theaters&#x27; 路径重写为：&#x27;/movie/in_theaters&#x27;</span></span><br><span class="line">      <span class="attr">pathRewrite</span>: &#123;<span class="string">&quot;^/api&quot;</span> : <span class="string">&quot;&quot;</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* movielist.js */</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&#x27;/api/movie/in_theaters&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// 将服务器返回的数据转化为 json 格式</span></span><br><span class="line">    <span class="keyword">return</span> data.<span class="title function_">json</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">rep</span>) &#123;</span><br><span class="line">    <span class="comment">// 获取上面格式化后的数据</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(rep);</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure>
<h4 id="CORS-服务器端配合">CORS - 服务器端配合</h4>
<ul>
<li>示例：NodeJS设置跨域</li>
<li><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2016/04/cors.html">跨域资源共享 CORS 详解 - 阮一峰</a></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过Express的中间件来处理所有请求</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">  <span class="comment">// 设置请求头为允许跨域</span></span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 设置服务器支持的所有头信息字段</span></span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;Content-Type,Content-Length, Authorization,Accept,X-Requested-With&#x27;</span>);</span><br><span class="line">  <span class="comment">// 设置服务器支持的所有跨域请求的方法</span></span><br><span class="line">  res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;POST,GET&#x27;</span>);</span><br><span class="line">  <span class="comment">// next()方法表示进入下一个路由</span></span><br><span class="line">  <span class="title function_">next</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="redux">redux</h3>
<ul>
<li>状态管理工具，用来管理应用中的数据</li>
</ul>
<h4 id="核心">核心</h4>
<ul>
<li>
<p>Action：行为的抽象，视图中的每个用户交互都是一个action</p>
<ul>
<li>比如：点击按钮</li>
</ul>
</li>
<li>
<p>Reducer：行为响应的抽象，也就是：根据action行为，执行相应的逻辑操作，更新state</p>
<ul>
<li>比如：点击按钮后，添加任务，那么，添加任务这个逻辑放到 Reducer 中</li>
<li>1 创建State</li>
</ul>
</li>
<li>
<p>Store：</p>
<ul>
<li>1 <strong>Redux应用只能有一个store</strong></li>
<li>2 <code>getState()</code>：获取state</li>
<li>3 <code>dispatch(action)</code>：更新state</li>
</ul>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* action */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在 redux 中，action 就是一个对象</span></span><br><span class="line"><span class="comment">// action 必须提供一个：type属性，表示当前动作的标识</span></span><br><span class="line"><span class="comment">// 其他的参数：表示这个动作需要用到的一些数据</span></span><br><span class="line">&#123; <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;要添加的任务名称&#x27;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 这个动作表示要切换任务状态</span></span><br><span class="line">&#123; <span class="attr">type</span>: <span class="string">&#x27;TOGGLE_TODO&#x27;</span>, <span class="attr">id</span>: <span class="number">1</span> &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* reducer */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一个参数：表示状态（数据），我们需要给初始状态设置默认值</span></span><br><span class="line"><span class="comment">// 第二个参数：表示 action 行为</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">todo</span>(<span class="params">state = [], action</span>) &#123;</span><br><span class="line">  <span class="keyword">switch</span>(action.<span class="property">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;ADD_TODO&#x27;</span>:</span><br><span class="line">      state.<span class="title function_">push</span>(&#123; <span class="attr">id</span>: <span class="title class_">Math</span>.<span class="title function_">random</span>(), <span class="attr">name</span>: action.<span class="property">name</span>, <span class="attr">completed</span>: <span class="literal">false</span> &#125;)</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;TOGGLE_TODO&#x27;</span>:</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; state.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (state[i].<span class="property">id</span> === action.<span class="property">id</span>) &#123;</span><br><span class="line">          state[i].<span class="property">completed</span> = !state[i].<span class="property">completed</span></span><br><span class="line">          <span class="keyword">break</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">      <span class="keyword">return</span> state</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 要执行 ADD_TODO 这个动作：</span></span><br><span class="line"><span class="title function_">dispatch</span>( &#123; <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;要添加的任务名称&#x27;</span> &#125; )</span><br><span class="line"></span><br><span class="line"><span class="comment">// 内部会调用 reducer</span></span><br><span class="line"><span class="title function_">todo</span>(<span class="literal">undefined</span>, &#123; <span class="attr">type</span>: <span class="string">&#x27;ADD_TODO&#x27;</span>, <span class="attr">name</span>: <span class="string">&#x27;要添加的任务名称&#x27;</span> &#125;)</span><br></pre></td></tr></table></figure>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">標籤</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="../../../../../tags/React/" rel="tag">React</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../16/react/React%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"
                    data-tooltip="React组件生命周期"
                    aria-label="上一篇: React组件生命周期"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../../../2023/10/25/SwiftUI%E5%85%A8%E9%9D%A2%E6%8C%87%E5%8D%97-%E8%A7%86%E5%9B%BE-%E4%BF%AE%E9%A5%B0%E7%AC%A6-%E7%BB%84%E4%BB%B6%E4%B8%8EMVVM%E6%9E%B6%E6%9E%84/"
                    data-tooltip="SwiftUI全面指南:视图,修饰符,组件与MVVM架构"
                    aria-label="下一篇: SwiftUI全面指南:视图,修饰符,组件与MVVM架构"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2025 Kein Chan. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../16/react/React%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"
                    data-tooltip="React组件生命周期"
                    aria-label="上一篇: React组件生命周期"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="../../../../../2023/10/25/SwiftUI%E5%85%A8%E9%9D%A2%E6%8C%87%E5%8D%97-%E8%A7%86%E5%9B%BE-%E4%BF%AE%E9%A5%B0%E7%AC%A6-%E7%BB%84%E4%BB%B6%E4%B8%8EMVVM%E6%9E%B6%E6%9E%84/"
                    data-tooltip="SwiftUI全面指南:视图,修饰符,组件与MVVM架构"
                    aria-label="下一篇: SwiftUI全面指南:视图,修饰符,组件与MVVM架构"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Diesen Beitrag teilen"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Facebook"
                    aria-label="分享到 Facebook"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Twitter"
                    aria-label="分享到 Twitter"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="global.share_on_linkedin"
                    aria-label="global.share_on_linkedin"
                >
                    <i class="fab fa-linkedin" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                    title="分享到 Weibo"
                    aria-label="分享到 Weibo"
                >
                    <i class="fab fa-weibo" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Nach oben">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                        aria-label="分享到 Facebook"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>分享到 Facebook</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                        aria-label="分享到 Twitter"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>分享到 Twitter</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                        aria-label="global.share_on_linkedin"
                    >
                        <i class="fab fa-linkedin" aria-hidden="true"></i><span>global.share_on_linkedin</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="http://service.weibo.com/share/share.php?&amp;title=https://chankein.github.io/2024/08/15/react/React%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"
                        aria-label="分享到 Weibo"
                    >
                        <i class="fab fa-weibo" aria-hidden="true"></i><span>分享到 Weibo</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="../../../../../assets/images/profile.jpg" alt="作者的圖片"/>
        
            <h4 id="about-card-name">Kein Chan</h4>
        
            <div id="about-card-bio"><p>這是獨立全棧工程師Kein Chan的技術博客</br>分享一些技術教程,命令備忘(cheat-sheet)等</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>全棧工程師</br>資深技術顧問</br>數據科學家</br>Hit廣島觀光大使</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Tokyo/Macau
            </div>
        
    </div>
</div>

        
            <div id="algolia-search-modal" class="modal-container">
    <div class="modal">
        <div class="modal-header">
            <span class="close-button"><i class="fa fa-times"></i></span>
            <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
                <span class="searchby-algolia-text text-color-light text-small">by</span>
                <img class="searchby-algolia-logo" src="../assets/images/logo-algolia-nebula-blue-full.svg">
            </a>
            <i class="search-icon fa fa-search"></i>
            <form id="algolia-search-form">
                <input type="text" id="algolia-search-input" name="search"
                    class="form-control input--large search-input" placeholder="Search "
                    />
            </form>
        </div>
        <div class="modal-body">
            <div class="no-result text-color-light text-center">沒有找到文章</div>
            <div class="results">
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2013/04/27/R%E8%AF%AD%E8%A8%80/R%E8%AF%AD%E8%A8%80-%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/"
                            aria-label=": R语言-环境安装"
                        >
                            <h3 class="media-heading">R语言-环境安装</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年4月27日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2013/04/28/R%E8%AF%AD%E8%A8%80/R%E8%AF%AD%E8%A8%80-%E5%9F%BA%E7%A1%80/"
                            aria-label=": R语言-基础"
                        >
                            <h3 class="media-heading">R语言-基础</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年4月28日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2013/05/01/R%E8%AF%AD%E8%A8%80/R%E8%AF%AD%E8%A8%80-%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE/"
                            aria-label=": R语言-读取数据"
                        >
                            <h3 class="media-heading">R语言-读取数据</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月1日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2013/05/02/R%E8%AF%AD%E8%A8%80/R%E8%AF%AD%E8%A8%80-%E7%BB%98%E5%9B%BE/"
                            aria-label=": R语言-绘图"
                        >
                            <h3 class="media-heading">R语言-绘图</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月2日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2013/05/03/R%E8%AF%AD%E8%A8%80/R%E8%AF%AD%E8%A8%80-%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/"
                            aria-label=": R语言-线性回归"
                        >
                            <h3 class="media-heading">R语言-线性回归</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2013年5月3日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2015/02/22/Algorithms/1.%E7%AE%97%E6%B3%95%E5%9C%A8%E8%AE%A1%E7%AE%97%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8/"
                            aria-label=": 1. 算法在计算中的作用"
                        >
                            <h3 class="media-heading">1. 算法在计算中的作用</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年2月22日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2015/02/23/Algorithms/2.%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80/"
                            aria-label=": 2. 算法基础"
                        >
                            <h3 class="media-heading">2. 算法基础</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年2月23日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2015/02/24/Algorithms/3.%E5%87%BD%E6%95%B0%E7%9A%84%E5%A2%9E%E9%95%BF/"
                            aria-label=": 3. 函数的增长"
                        >
                            <h3 class="media-heading">3. 函数的增长</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年2月24日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2015/02/25/Algorithms/4.%E5%88%86%E6%B2%BB%E7%AD%96%E7%95%A5/"
                            aria-label=": 4. 分治策略"
                        >
                            <h3 class="media-heading">4. 分治策略</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年2月25日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
                <div class="media">
                    
                    <div class="media-body">
                        <a
                            class="link-unstyled"
                            href="https://chankein.github.io/2015/02/26/Algorithms/5.%E6%A6%82%E7%8E%87%E5%88%86%E6%9E%90%E5%92%8C%E9%9A%8F%E6%9C%BA%E7%AE%97%E6%B3%95/"
                            aria-label=": 5. 概率分析和随机算法"
                        >
                            <h3 class="media-heading">5. 概率分析和随机算法</h3>
                        </a>
                        <span class="media-meta">
                            <span class="media-date text-small">
                                
                                    2015年2月26日
                                
                            </span>
                        </span>
                        <div class="media-content hide-xs font-merryweather"></div>
                    </div>
                    <div style="clear:both;"></div>
                    <hr>
                </div>
                
            </div>
        </div>
        <div class="modal-footer">
            <p class="results-count text-medium"
                data-message-zero="沒有找到文章"
                data-message-one="找到 1 篇文章"
                data-message-other="找到 {n} 篇文章">
                找到 199 篇文章
            </p>
        </div>
    </div>
</div>

        
        
<div id="cover" style="background-image:url('../../../../../assets/images/cover.jpeg');"></div>
        <!--SCRIPTS-->

<script src="../../../../../assets/js/script-qtzvvb63gamuirvfphht7lytrxkfllzng1escnm2phjtlt4tvvxi5gl0wx4o.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
